{"version":3,"sources":["Player.js","SongCard.js","Statistic.js","SongCardList.js","Nav.js","PlaylistTab.js","Main.js","Input.js","Profile.js","Setting.js","Content.js","Popup.js","App.js","index.js","Tag.js"],"names":["WhiteCheckbox","withStyles","root","color","grey","margin","checked","props","disableGutters","size","audio","Audio","Player","location","useLocation","history","useHistory","useParams","lang","useState","isAudioPaused","setAudioPaused","isPlaylistActive","setPlaylistActive","isShuffleActive","setShuffleActive","repeatState","setRepeatState","needActive","setNeedActive","songData","setSongData","playlist","setPlaylist","nowPlay","setNowPlay","isPlaylistModalActive","setPlaylistModalActive","isSecondActive","setSecondActive","loadData","loadDataTrigger","pageRef","useRef","inputRef","search","queryString","parse","song_id","showLyricMean","setShowLyricMean","showLyricLex","setShowLyricLex","showCallLex","setShowCallLex","lyricCallData","setLyricCallData","beat","setBeat","activeBlock","setActiveBlock","audioProgress","setAudioProgress","beatLen","setBeatLen","part","setPart","scrollLock","setScrollLock","handlers","useSwipeable","onSwipedRight","eventData","onSwipedLeft","onSwipeStart","dir","current","scrollTop","replace","pathname","cp","setCp","audioHandlers","e","pause","onSwiping","deltaX","onSwiped","currentTime","duration","play","buttonColor","themeColor","fanlightColor","modalTimer","focusTimerID","getSongData","link","axios","get","getLyricCallData","useEffect","clearTimeout","value","setTimeout","focus","window","localStorage","setItem","JSON","stringify","playlists","timerID","timer2ID","clearInterval","setInterval","parseInt","parseFloat","temp","Array","fill","map","block","lyricLex","lyric","i","beats","start","findIndex","lineStartBeat","document","querySelector","scrollIntoView","behavior","playerReducer","songOrder","ele","length","needUpdate","reload","playlistNum","data","playlistReload","paused","all","then","spread","res1","res2","slice","rows","song_bpm","song_color_type","idol_shown_color","unit_shown_color","song_fixed_color","documentElement","style","setProperty","hex_setSat","pass","dispatch","type","src","addEventListener","catch","onended","Math","random","res","className","isPlayerActive","onClick","push","album_id","onTouchStart","kr","en","jp","ref","name","placeholder","trim","payload","alert","pl","idx","song_is_unit","idol","includes","boxShadow","idol_id","fontSize","defaultChecked","onChange","event","target","lyricMean","id","text","callLex","call","noRepeat","repeat","repeatOne","song","eval","song_title_en","stopPropagation","nativeEvent","stopImmediatePropagation","splice","width","unit_name_en","idolCV","idol_name_en","cv_name_en","adjust","amount","undefined","min","max","toString","substr","getBrightness","c","substring","rgb","hexToHSL","H","r","g","b","cmin","cmax","delta","h","l","round","abs","toFixed","sat","v","s","f","n","k","stateToProps","state","playerActiveReducer","langReducer","nowPage","pageReducer","playlistsReducer","connect","SongCard","tagData","setTagData","isLoading","setLoading","componentRef","isSwiped","setSwiped","handleClick","contains","removeEventListener","variant","production_id","song_type","classify","color1","idol_color","color2","cv_id","unit","unit_id","unit_color","background","borderRadius","border","height","padding","StyledToggleButton","textTransform","backgroundColor","selected","ToggleButton","heightData","heightAccu","heightPercentage","heightBgColor","weightData","weightAccu","weightPercentage","weightBgColor","bmiData","bmiAccu","bmiPercentage","bmiBgColor","heightGraphData","labels","datasets","label","borderColor","borderWidth","weightGraphData","bmiGraphData","options","scales","yAxes","gridLines","ticks","fontColor","callback","index","values","Intl","NumberFormat","format","xAxes","tooltips","callbacks","tooltipItem","yLabel","darkOptions","refreshGraphData","userHistoryData","userHistoryLabel","historyGraphData","date","weight","bmi","Statistic","page","activeArea","setActiveArea","activatedCardModal","setActivatedCardModal","latestIdx","setLatestIdx","today","setToday","setData","graph","setGraph","nowGraph","setNowGraph","historyGraph","setHistoryGraph","nowHistoryGraph","setNowHistoryGraph","heightIdx","setHeightIdx","weightIdx","setWeightIdx","height2idx","weight2idx","bmi2idx","info","Date","parseString","err","result","DS_RECRT_BDMSMNT_MSR_INF","row","wei","weight_kg","hei","statur_cm","console","log","theme","exclusive","infoReducer","themeReducer","SongCardList","isFilterActive","setFilterActive","songs","setSongs","songsFilter","setSongsFilter","songsInputFilter","setSongsInputFilter","productions","setProductions","productionChecked","setProductionChecked","productionCheckedCnt","setProductionCheckedCnt","songAttrs","setSongAttrs","songAttrChecked","setSongAttrChecked","songAttrCheckedCnt","setSongAttrCheckedCnt","levels","setLevelsAttrs","levelChecked","setLevelChecked","levelCheckedCnt","setLevelCheckedCnt","inputVal","setInputVal","order","setOrder","orderSt","setOrderSt","dark","light","useStyles","makeStyles","classes","inputFilter","val","getSongIdol","getSongUnit","filter","tk","song_title_kr","te","tj","song_title_jp","si","toLowerCase","some","shuffle","song_level","sort","a","album_release_date","production","production_color","songAttr","0","1","2","3","level","maxWidth","marginRight","labelId","array","j","floor","iconColor","iconActiveColor","onSwipedUp","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","confirm","getItem","Button","lightTheme","createMuiTheme","palette","darkTheme","primary","main","nameRef","waistRef","headRef","feetRef","heightDial","setHeightDial","weightDial","setWeightDial","waist","head","feet","ThemeProvider","TextField","radius","strokeWidth","stroke","x","y","textAnchor","dy","fontWeight","setSpanSec","rand","setRand","TimeBefore","next","columns","field","headerName","setRows","selectedRows","setSelectedRows","onSelectionChange","rowIds","hideFooter","localeText","footerRowSelected","count","checkboxSelection","path","anim","animReducer","isPopupActiveded","setPopupActiveded","ToggleButtonGroup","Switch","matchMedia","matches","exact","render","to","match","params","infoDefault","playerDefault","playerActive","playlistsDefault","store","createStore","combineReducers","action","removeItem","find","forEach","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.92fd9d09.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux'\nimport { useLocation, useParams, useHistory } from 'react-router-dom';\nimport { useSwipeable } from \"react-swipeable\";\nimport queryString from 'query-string';\nimport { Element, scroller } from \"react-scroll\";\n\nimport IconButton from '@material-ui/core/IconButton';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport PlaylistPlayIcon from '@material-ui/icons/PlaylistPlay';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\nimport LockIcon from '@material-ui/icons/Lock';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport ShuffleIcon from '@material-ui/icons/Shuffle';\nimport RepeatIcon from '@material-ui/icons/Repeat';\nimport RepeatOneIcon from '@material-ui/icons/RepeatOne';\nimport SaveIcon from '@material-ui/icons/Save';\n\nimport { Checkbox } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { grey } from '@material-ui/core/colors';\nconst WhiteCheckbox = withStyles({ root: { color: grey[700], margin: 'none','&$checked': { color: grey[500], }, }, checked: {}, })((props) => <Checkbox disableGutters color=\"default\" size='small' margin='0' {...props} />);\n\nconst audio = new Audio();\n\nfunction Player(props) {\n\t\n\tconst location = useLocation();\n\tconst history = useHistory();\n\t\n\tconst { lang } = useParams();\n\tconst [isAudioPaused, setAudioPaused] = useState(true);\n\tconst [isPlaylistActive, setPlaylistActive] = useState(false);\n\tconst [isShuffleActive, setShuffleActive] = useState(false);\n\tconst [repeatState, setRepeatState] = useState('repeat');\n\tconst [needActive, setNeedActive] = useState(false);\n\t\n\tconst [songData, setSongData] = useState([]);\n\t\n\tconst [playlist, setPlaylist] = useState([]);\n\tconst [nowPlay, setNowPlay] = useState(-1);\n\tconst [isPlaylistModalActive, setPlaylistModalActive] = useState(false);\n\tconst [isSecondActive, setSecondActive] = useState(null);\n\tconst [loadData, loadDataTrigger] = useState(false);\t\n\t\n\tconst pageRef = useRef(null);\n\tconst inputRef = useRef(null);\n\t\n\tconst { search } = useLocation()\n\tconst { song_id } = queryString.parse(search);\n\t\n\tconst [showLyricMean, setShowLyricMean] = useState(true);\n\tconst [showLyricLex, setShowLyricLex] = useState(true);\n\tconst [showCallLex, setShowCallLex] = useState(true);\n\t\n\tconst [lyricCallData, setLyricCallData] = useState([]);\n\tconst [beat, setBeat] = useState(0);\n\tconst [activeBlock, setActiveBlock] = useState(0);\n\tconst [audioProgress, setAudioProgress] = useState(0);\n\tconst [beatLen, setBeatLen] = useState(0.0);\n\tconst [part, setPart] = useState([]);\n\tconst [scrollLock, setScrollLock] = useState(true);\n\tconst handlers = useSwipeable({\n\t\t\tonSwipedRight: (eventData) => setPlaylistActive(false),\n  \t\tonSwipedLeft: (eventData) => setPlaylistActive(true),\n\t\t\tonSwipeStart: (eventData) => {\n\t\t\t\tif(eventData.dir==='Up'||eventData.dir==='Down') setScrollLock(false);\n\t\t\t\tif(eventData.dir==='Down') \n\t\t\t\t\tif(pageRef.current.scrollTop===0) history.replace(`${location.pathname}`);\n\t\t\t},\n\t});\n\tconst [cp, setCp] = useState(0);\n\tconst audioHandlers = useSwipeable({\n\t\tonSwipeStart: (e)=>{pause();setCp(audioProgress);},\n\t\tonSwiping: (e)=>{setAudioProgress(cp+e.deltaX/6)},\n\t\tonSwiped: (e)=>{audio.currentTime=audioProgress/100*audio.duration;play()}\n\t});\n\tvar buttonColor= '#eeeeee', themeColor='#ffffff', fanlightColor='#ffffff';\t\n\tvar modalTimer, focusTimerID;\n\t\n\tfunction play(){\n\t\taudio.play();\n\t\tsetAudioPaused(false);\n\t}\n\t\n\tfunction pause(){\n\t\taudio.pause();\n\t\tsetAudioPaused(true);\n\t}\n\n\tuseEffect(()=>{\n\t\treturn ()=>{clearTimeout(modalTimer);clearTimeout(focusTimerID);}\n\t},[]);\n\t\n\tuseEffect(()=>{\n\t\tif(!song_id || !isPlaylistModalActive) {\n\t\t\tsetPlaylistModalActive(false);\n\t\t\tsetSecondActive(null);\n\t\t\tinputRef.current.value='';\n\t \t}\n\t},[song_id, isPlaylistModalActive]);\n\t\n\tuseEffect(()=>{\n\t\tif(isSecondActive==='new') {\n\t\t\tfocusTimerID = setTimeout(()=>{\n\t\t\t\tinputRef.current.focus();\n\t\t\t},300);\n\t \t}\n\t},[isSecondActive]);\n\t\n\tuseEffect(()=>{\n\t\twindow.localStorage.setItem(\"playlists\", JSON.stringify(props.playlists));\n\t},[props.playlists]);\n\t\n\tuseEffect(()=>{\n\t\tlet timerID, timer2ID;\n\t\tif(!isAudioPaused) {\n\t\t\ttimerID = setInterval(()=>{\n\t\t\t\tsetBeat(parseInt(audio.currentTime*1000/beatLen));\n\t\t\t},80);\n\t\t\ttimer2ID = setInterval(()=>{\n\t\t\t\tsetAudioProgress(parseFloat(audio.currentTime*1000)/(audio.duration*1000)*100);\n\t\t\t},500);\n\t\t}\n\t\telse {\n\t\t\tclearInterval(timerID);\n\t\t\tclearInterval(timer2ID);\n\t\t}\n\t\treturn ()=>{\n\t\t\tclearInterval(timerID);\n\t\t\tclearInterval(timer2ID);\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\n\t},[isAudioPaused]);\n\n\tuseEffect(()=>{\n\t\tlet temp = new Array(1300).fill([]);\n\t\tlyricCallData.map((block)=>{\n\t\t\tblock.lyricLex?.map((lyric)=>{\n\t\t\t\tfor(let i = 0; i < lyric.beats; i++)\n\t\t\t\t\ttemp[lyric.start + i] = [...lyric.part];\n\t\t\t});\n\t\t});\n\t\tsetPart(temp);\n\t},[lyricCallData]);\n\t\n\tuseEffect(()=>{\n\t\tsetActiveBlock(lyricCallData.findIndex(e=>e.lineStartBeat>beat)-1);\n\t}, [beat]);\n\n\tuseEffect(()=>{\n\t\tif(scrollLock)\n\t\t\tdocument.querySelector('.block.active')?.scrollIntoView({behavior:'smooth', block:'center'});\n\t\t// scroller.scrollTo('ele'+activeBlock, {\n\t\t// \tduration:1000,\n\t\t// \tsmooth: true\n\t\t// });\n\t\t// scroll.scrollToBottom();\n\t}, [activeBlock, scrollLock, lang]);\n\n\tfunction getSongData(link){\n\t\treturn axios.get(`/api/player_data_view?song_id=${link}`);\n\t}\n\tfunction getLyricCallData(link){\n\t\treturn axios.get(`/api/lyric_call/${lang}/${link}`);\n\t}\n\tuseEffect(()=>{\t\n\t\tif(props.playerReducer.song_id){////////////////////////////////////////////////////////////////////\n\t\t\t\tlet songOrder = playlist.findIndex((ele)=>ele.song_id==props.playerReducer.song_id); \n\t\t\t\tif(songOrder>=0) {\n\t\t\t\t\tsetNowPlay(songOrder);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetNowPlay(playlist.length);\n\t\t\t\t\tsetPlaylist([...playlist, {song_id:props.playerReducer.song_id, needUpdate: true}]);\n\t\t\t\t}\n\t\t\t\tsetNeedActive(true);\n\t\t\t\tloadDataTrigger(!loadData);\n\t\t}\n\t},[props.playerReducer.reload]);\n\t\n\t\n\tuseEffect(()=>{\t\n\t\tif(props.playerReducer.playlistNum!==null) {\n\t\t\tsetNowPlay(0);\n\t\t\tsetPlaylist([...(props.playlists[props.playerReducer.playlistNum].data)]);\n\t\t\tsetNeedActive(true);\n\t\t\tsetPlaylistActive(true);\n\t\t\tloadDataTrigger(!loadData);\n\t\t}\n\t},[props.playerReducer.playlistReload]);\n\t\n\tuseEffect(()=>{\n\t\tvar isPause = audio.paused;\n\t\tif(nowPlay!==-1)\t\t\t\n\t\t\taxios.all([getSongData(playlist[nowPlay].song_id), getLyricCallData(playlist[nowPlay].song_id)]).then(axios.spread((res1, res2)=>{\n\t\t\t\tif(pageRef.current) pageRef.current.scrollTop=0;\n\t\t\t\tsetBeat(0);\n\t\t\t\tsetActiveBlock(0);\n\t\t\t\tsetAudioProgress(0);\n\t\t\t\tsetPart([0]);\n\t\t\t\tsetScrollLock(true);\n\t\t\t\tsetLyricCallData([]);\n\t\t\t\t\n\t\t\t\tif(playlist[nowPlay].needUpdate) setPlaylist([...playlist.slice(0, playlist.length-1), res1.data.rows[0]]);\n\t\t\t\tsetSongData(res1.data.rows);\n\t\t\t\tsetBeatLen(60000.0 / res1.data.rows[0].song_bpm);\n\t\t\t\t\n\t\t\t\tif(res1.data.rows[0].song_color_type === 0) fanlightColor = res1.data.rows[0].idol_shown_color;\n\t\t\t\telse if(res1.data.rows[0].song_color_type === 1) fanlightColor = res1.data.rows[0].unit_shown_color;\n\t\t\t\telse if(res1.data.rows[0].song_color_type === 2) fanlightColor = res1.data.rows[0].song_fixed_color;\n\t\t\t\tdocument.documentElement.style.setProperty(\"--flc\", fanlightColor);\t \n\t\t\t\tthemeColor=hex_setSat(fanlightColor, 0.13);\n\t\t\t\tdocument.documentElement.style.setProperty(\"--tc\", themeColor);\n\t\t\t\t\n\t\t\t\tprops.playerReducer.pass=true;\n\t\t\t\thistory.replace(`${location.pathname}?song_id=${res1.data.rows[0].song_id}`);\n\t\t\t\t\n\t\t\t\tsetLyricCallData(res2.data);\t\n\t\t\t\tif(needActive){ \n\t\t\t\t\tprops.dispatch({type:'playerActive'}); \n\t\t\t\t\tisPause=false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetNeedActive(false);\n\t\t\t\taudio.src = `/api/audio/${res1.data.rows[0].song_id}`;\n\t\t\t\t \n\t\t\t\taudio.addEventListener('canplaythrough',()=>{\n\t\t\t\t\tplay();\n\t\t\t\t}, false);\n\t\t\t})).catch();\n\t\treturn ()=>{\n\t\t\tpause();\n\t\t}\n\t},[loadData]);\n\n\taudio.onended=()=>{\n\t\tif(repeatState==='noRepeat') {\n\t\t\tpause();\n\t\t}\t\n\t\telse if(repeatState==='repeatOne') {\n\t\t\taudio.currentTime=0;\n\t\t\tplay();\n\t\t}\n\t\telse {\n\t\t\tif(isShuffleActive) {\n\t\t\t\tvar temp=parseInt(Math.random()*playlist.length);\n\t\t\t\twhile(temp===nowPlay && playlist.length!==1) temp=parseInt(Math.random()*playlist.length);\n\t\t\t\tsetNowPlay(temp);\n\t\t\t}\n\t\t\telse setNowPlay((nowPlay+1)%playlist.length); \n\t\t\tloadDataTrigger(!loadData);\n\t\t}\n \t};\n\t\n\tuseEffect(()=>{\n\t\tsetLyricCallData([]);\n\t\tif(songData.length)\n\t\t\taxios.get(`/api/lyric_call/${lang}/${songData[0].song_id}`)\n\t\t\t.then((res)=>{\n\t\t\t \tsetLyricCallData(res.data);\n\t\t\t }) \n\t\t\t.catch(()=>{});\n\t},[lang]);\n\t\n\treturn (\n\t\t<>\n\t\t<div className={`${!songData.length&&'init'} coverImg ${props.isPlayerActive ? \"active\" : \"\"}`} onClick={()=>{\n\t\t\tif(props.isPlayerActive){\n\t\t\t\thistory.replace(`${location.pathname}`);\n\t\t\t} else{\n\t\t\t\thistory.push(`${location.pathname}?song_id=${props.playerReducer.song_id}`);\n\t\t\t}\n\t\t}}>\n\t\t\t<div className='dot'></div>\n\t\t\t{songData.length && <img src={\"/api/img/album/\"+songData[0].album_id}></img>}\n\t\t</div>\n\t\t\n\t\t<div className={`playlistModal alignCenter ${!isPlaylistModalActive&&'inactive'}`}>\n\t\t\t<div className={`bg ${!isPlaylistModalActive&&'inactive'}`} onTouchStart={()=>{modalTimer=setTimeout(()=>setSecondActive(null),700);setPlaylistModalActive(false)}}></div>\t\n\t\t\t<div className={`modalArea  ${isSecondActive!==null&&isSecondActive}`}>\n\t\t\t\t<div className={`first alignCenter ${isSecondActive&&'inactive'}`}>\n\t\t\t\t\t<div className='new' onClick={()=>setSecondActive('new')}>{{ kr: '  ', en: 'Save new playlist', jp: '' }[lang]}</div>\n\t\t\t\t\t<div className='change' onClick={()=>setSecondActive('change')}>{{ kr: '  ', en: 'Replace with existing playlist', jp: '' }[lang]}</div>\n\t\t\t\t\t<div className='add' onClick={()=>setSecondActive('add')}>{{ kr: '  ', en: 'Add to existing playlist', jp: '' }[lang]}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={`second alignCenter ${isSecondActive===null?'inactive':isSecondActive}`}>\n\t\t\t\t\t<div className={`new ${isSecondActive==='new'?'active':'inactive'}`}>\n\t\t\t\t\t\t<input className=\"newPlaylistInput\" ref={inputRef} type=\"text\" name=\"\" placeholder={{ kr: '  ', en: 'New playlist name', jp: '' }[lang]}/>\n\t\t\t\t\t\t<div className={`save alignCenter`} onClick={()=>{\n\t\t\t\t\t\t\tif(!inputRef.current.value.trim().length) {\n\t\t\t\t\t\t\t\t alert({ kr: '  !', en: 'Please enter a playlist name!', jp: '!' }[lang]);\n\t\t\t\t\t\t\t\tinputRef.current.value='';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(props.playlists.findIndex(e=>e.name==inputRef.current.value)===-1) {\n\t\t\t\t\t\t\t\tsetPlaylistModalActive(false);\n\t\t\t\t\t\t\t\tprops.dispatch({type:'saveNew', payload:{name:inputRef.current.value, data: [...playlist]}});\n\t\t\t\t\t\t\t\thistory.replace(`/${lang}/playlist`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\talert({ kr: '  !', en: 'Duplicate playlist name!', jp: '!' }[lang]);\n\t\t\t\t\t\t\t\tinputRef.current.value='';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>{{ kr: '', en: 'Save', jp: '' }[lang]}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className={`change add ${(isSecondActive==='change' || isSecondActive==='add') ?'active':'inactive'}`}>\n\t\t\t\t\t{\n\t\t\t\t\t\tprops.playlists.map((pl, idx)=>{\n\t\t\t\t\t\t\treturn (<>\n\t\t\t\t\t\t\t<div className={`playlist`} onClick={()=>{\n\t\t\t\t\t\t\t\tsetPlaylistModalActive(false);\n\t\t\t\t\t\t\t\tif(isSecondActive==='change') props.dispatch({type:'replacePlaylist', payload:{name:pl.name, data: [...playlist]}});\n\t\t\t\t\t\t\t\telse props.dispatch({type:'addToPlaylist', payload:{name:pl.name, data: [...playlist]}});\n\t\t\t\t\t\t\t\thistory.replace(`/${lang}/playlist`);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<div className={`title`}><span>{pl.name}</span></div>\n\t\t\t\t\t\t\t\t<div className={`songCnt`}><span>{pl.data.length+{kr: '', en: ' songs', jp: ''}[lang]}</span></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>)\n\t\t\t\t\t\t})\t\t\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\n\t\t\n\t\t{songData.length&&<>\t\t\n\t\t<div className={\"playerPage \" + (props.isPlayerActive ? \"active\" : \"\")} >\n\t\t\t{\n\t\t\t\t<div className={`infoArea ${(!songData[0].song_is_unit.data[0]&&songData.length===1)&&'inactive'}`}>{\n\t\t\t\t\tsongData.map((idol, i)=>{\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<div className={`idolImgArea ${(part[beat]&&((part[beat][0]===9)||(part[beat].includes(i+1))))?'active':''}`}\n\t\t\t\t\t\t\t\tstyle={{boxShadow: (part[beat]&&((part[beat][0]===9)||(part[beat].includes(i+1))))?`0 0 8px 2px ${idol.idol_shown_color}`:''}}>\n\t\t\t\t\t\t\t\t<div className='shadow'><img src={\"/api/img/idol/\"+idol.idol_id}></img></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t)}</div>\n\t\t\t}\n\n\t\t<div className=\"callGuideArea\" {...handlers}>\n\t\t\t<div className={`lyricArea ${isPlaylistActive&&'inactive'}`} >\n\t\t\t\t<div className='iconsArea'>\n\t\t\t\t\t<div className='scrollLockIconArea'>{\n\t\t\t\t\t\tscrollLock?\t\n\t\t\t\t\t\t\t<LockIcon style={{fontSize: 25, color:buttonColor}} onClick={()=>{setScrollLock(false)}}></LockIcon>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<LockOpenIcon style={{fontSize: 25, color:buttonColor}} onClick={()=>{setScrollLock(true)}}></LockOpenIcon>\n\t\t\t\t\t}</div>\n\n\t\t\t\t\t<div className='checkBoxesArea'>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<WhiteCheckbox defaultChecked fontSize=\"small\" color=\"default\" onChange={(event)=>{\n\t\t\t\t\t\t\tevent.target.checked?setShowLyricMean(true):setShowLyricMean(false);\t\t\n\t\t\t\t\t\t}}></WhiteCheckbox>\n\t\t\t\t\t\t<div className='label'>{{ kr: '', en: 'Lyrics', jp: '' }[lang]}</div>\n\n\t\t\t\t\t\t<WhiteCheckbox defaultChecked fontSize=\"small\" color=\"default\" onChange={(event)=>{\n\t\t\t\t\t\t\tevent.target.checked?setShowLyricLex(true):setShowLyricLex(false);\t\t\n\t\t\t\t\t\t}}></WhiteCheckbox>\n\t\t\t\t\t\t<div className='label'>{{ kr: '', en: 'Romanized', jp: '' }[lang]}</div>\n\n\t\t\t\t\t\t<WhiteCheckbox defaultChecked fontSize=\"small\" color=\"default\" onChange={(event)=>{\n\t\t\t\t\t\t\tevent.target.checked?setShowCallLex(true):setShowCallLex(false);\t\t\n\t\t\t\t\t\t}}></WhiteCheckbox>\n\t\t\t\t\t\t<div className='label'>{{ kr: '', en: 'Call', jp: '' }[lang]}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"text\" ref={pageRef}>{\n\t\t\t\t\tlyricCallData.length!==0?\n\t\t\t\t\t\tlyricCallData.map((block, idx)=>{\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className={`block ${idx===activeBlock&&'active'}`}>\n\t\t\t\t\t\t\t\t\t<Element name={'ele'+idx}>\n\t\t\t\t\t\t\t\t\t\t{block.lyricMean&&<div className={`lyricMeanLine ${(idx===activeBlock)&&'active'} ${!showLyricMean&&'disable'} ${!showLyricLex&&'moveTop'}`}> <span className='lyricMean'>{block.lyricMean}</span></div>}\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tblock.lyricLex&&<div className={`lyricLexLine ${!showLyricLex&&'disable'}`}>{ block.lyricLex?.map((lyric, id)=>{\n\t\t\t\t\t\t\t\t\t\t\t\treturn( <span className={`lyricLex ${lyric.start<=beat&&lyric.start+lyric.beats>beat&&'active'}`} onClick={()=>{audio.currentTime=lyric.start*beatLen/1000.0;}}>{lyric.text}</span>)\n\t\t\t\t\t\t\t\t\t\t\t})}</div>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tblock.callLex&&<div className={`callLexLine ${!showCallLex&&'disable'}`}>{block.callLex?.map((call, id)=>{\n\t\t\t\t\t\t\t\t\t\t\t\treturn( <span className={`call ${call.start<=beat&&call.start+call.beats>beat&&'active'}`} onClick={()=>{audio.currentTime=call.start*beatLen/1000.0;}}>{call.text}</span>)\n\t\t\t\t\t\t\t\t\t\t\t})}</div>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tblock.behavior&&<div className='lyricLexLine'>{block.behavior?.map((behavior, id)=>{\n\t\t\t\t\t\t\t\t\t\t\t\treturn( <span className={`behavior ${behavior.start<=beat&&behavior.start+behavior.beats>beat&&'active'}`}>{behavior.text}</span>)\n\t\t\t\t\t\t\t\t\t\t\t})}</div>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Element>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t:\n\t\t\t\t\t\t<div className='alert'>{\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkr: '   ',\n\t\t\t\t\t\t\t\ten: 'Lyric is not uploaded yet :(',\n\t\t\t\t\t\t\t\tjp: ' :('\n\t\t\t\t\t\t\t}[lang]}</div>\n\t\t\t\t\t\t}</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className={`playlistArea ${!isPlaylistActive&&'inactive'}`}>\n\t\t\t\t\t\n\t\t\t\t\t<div className='iconsArea'>\n\t\t\t\t\t<div className='shuffleIconArea'>{\n\t\t\t\t\t\tisShuffleActive?\t\n\t\t\t\t\t\t\t<ShuffleIcon style={{fontSize: 25, color:buttonColor}} onClick={()=>{setShuffleActive(false)}}></ShuffleIcon>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<ShuffleIcon style={{fontSize: 25, color:'#444444'}} onClick={()=>{setShuffleActive(true)}}></ShuffleIcon>\n\t\t\t\t\t}</div>\n\n\t\t\t\t\t<div className='repeatIconArea'>{\n\t\t\t\t\t{\n\t\t\t\t\t\tnoRepeat: <RepeatIcon style={{fontSize: 25, color:'#444444'}} onClick={()=>setRepeatState('repeat')}></RepeatIcon>,\n\t\t\t\t\t\trepeat: <RepeatIcon style={{fontSize: 25, color:buttonColor}} onClick={()=>setRepeatState('repeatOne')}></RepeatIcon>,\n\t\t\t\t\t\trepeatOne: <RepeatOneIcon style={{fontSize: 25, color:buttonColor}} onClick={()=>setRepeatState('noRepeat')}></RepeatOneIcon>\n\t\t\t\t\t}[repeatState]}</div>\n\t\t\t\t</div>\n\n\t\t\t\t\t<div className='labelArea'>{{\n\t\t\t\t\t\tkr: '',\n\t\t\t\t\t\ten: 'Playlist',\n\t\t\t\t\t\tjp: ''\n\t\t\t\t\t}[lang]}\n\t\t\t\t\t\t<div className='saveIconArea'>\n\t\t\t\t\t\t\t<SaveIcon style={{fontSize: 30, color:buttonColor}} onClick={()=>setPlaylistModalActive(true)}></SaveIcon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\n\t\t\t\t\t<div className='songsArea'>\n\t\t\t\t\t{\n\t\t\t\t\t\tplaylist.map((song, i)=>{ return(\n\t\t\t\t\t\t\t<div className={`songArea ${i===nowPlay&&'active'}`} onClick={(e)=>{setNowPlay(i);loadDataTrigger(!loadData);}}>\n\t\t\t\t\t\t\t\t<div className={`coverArea`}>\n\t\t\t\t\t\t\t\t\t<div className=\"cover\">\n\t\t\t\t\t\t\t\t\t\t<img src={\"/api/img/album/\"+song.album_id}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={`titleArea`}>\n\t\t\t\t\t\t\t\t\t<span>{(eval('song.song_title_'+lang)||song.song_title_en)}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={`iconsArea`}>\n\t\t\t\t\t\t\t\t\t<div className={`clearIconArea alignCenter`}><IconButton size='small' onClick={(e)=>{\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation();\n\t\t\t\t\t\t\t\t\t\tif(playlist.length!==1) {\n\t\t\t\t\t\t\t\t\t\t\tlet temp=[...playlist];\n\t\t\t\t\t\t\t\t\t\t\ttemp.splice(i, 1);\n\t\t\t\t\t\t\t\t\t\t\tsetPlaylist([...temp]);\n\t\t\t\t\t\t\t\t\t\t\tif(nowPlay>=i) { \n\t\t\t\t\t\t\t\t\t\t\t\tif(nowPlay===0 && i===0) setNowPlay(0);\n \t\t\t\t\t\t\t\t\t\t\t\telse setNowPlay(nowPlay-1);\n\t\t\t\t\t\t\t\t\t\t\t\tif(nowPlay===i) loadDataTrigger(!loadData);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}><ClearIcon style={{color:'#eeeeee'}}></ClearIcon></IconButton></div>\n\t\t\t\t\t\t\t\t\t<div className={`upIconArea alignCenter`} onClick={(e)=>{\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation();\n\t\t\t\t\t\t\t\t\t\tif(i!==0) {\n\t\t\t\t\t\t\t\t\t\t\tif(i===nowPlay) setNowPlay(nowPlay-1);\n\t\t\t\t\t\t\t\t\t\t\telse if(i===nowPlay+1) setNowPlay(nowPlay+1);\n\t\t\t\t\t\t\t\t\t\t\tlet temp = [...playlist];\n\t\t\t\t\t\t\t\t\t\t\t[temp[i], temp[i-1]]=[temp[i-1], temp[i]];\n\t\t\t\t\t\t\t\t\t\t\tsetPlaylist([...temp]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}} ><IconButton size='small'><ArrowDropUpIcon style={{color:'#eeeeee'}} fontSize='large'></ArrowDropUpIcon></IconButton></div>\n\t\t\t\t\t\t\t\t\t<div className={`downIconArea alignCenter`}><IconButton size='small' onClick={(e)=>{\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation();\n\t\t\t\t\t\t\t\t\t\tif(i!==playlist.length-1) {\n\t\t\t\t\t\t\t\t\t\t\tif(i===nowPlay) setNowPlay(nowPlay+1);\n\t\t\t\t\t\t\t\t\t\t\telse if(i===nowPlay-1) setNowPlay(nowPlay-1);\n\t\t\t\t\t\t\t\t\t\t\tlet temp = [...playlist];\n\t\t\t\t\t\t\t\t\t\t\t[temp[i+1], temp[i]]=[temp[i], temp[i+1]];\n\t\t\t\t\t\t\t\t\t\t\tsetPlaylist([...temp]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}} ><ArrowDropDownIcon style={{color:'#eeeeee'}} fontSize='large'></ArrowDropDownIcon></IconButton></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)})\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div className={`closeIconArea ${(!songData[0].song_is_unit.data[0] && songData.length===1)&&'solo'}`}><ExpandMoreIcon style={{fontSize: 30, color:buttonColor}} onClick={()=>{ history.replace(`${location.pathname}`);}}></ExpandMoreIcon></div>\n\t\t\t\t\n\t\t\t\t<div className='pageChangeIconArea'>{\n\t\t\t\t\tisPlaylistActive?\t\n\t\t\t\t\t\t<MenuBookIcon style={{fontSize: 25, color:buttonColor}} onClick={()=>{setPlaylistActive(false)}}></MenuBookIcon>\n\t\t\t\t\t:\n\t\t\t\t\t\t<PlaylistPlayIcon style={{fontSize: 30, color:buttonColor}} onClick={()=>{setPlaylistActive(true)}}></PlaylistPlayIcon>\n\t\t\t\t}</div>\n\t\t\t\t\n\n\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className='playerArea'  {...audioHandlers}>\n\t\t\t\t<div className='progressBarArea'>\n\t\t\t\t\t<div className='progressBar' style={{width: audioProgress+'%'}}></div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className='coverImgArea'></div>\n\t\t\t\t\n\t\t\t\t<div className='titleArea'><span>{(eval('songData[0].song_title_'+lang)||songData[0].song_title_en)}</span></div>\n\t\t\t\t\n\t\t\t\t<div className='artistArea'>{\n\t\t\t\t\tsongData[0].song_is_unit.data[0] ?\n\t\t\t\t\t\t<span>{(eval('songData[0].unit_name_'+lang)||songData[0].unit_name_en)}</span>\n\t\t\t\t\t:\t\t\n\t\t\t\t\t\tsongData.map((idolCV, i)=>{\n\t\t\t\t\t\t\tif(songData.length === 1)\n\t\t\t\t\t\t\t\treturn(<span>{(eval('idolCV.idol_name_'+lang)||idolCV.idol_name_en) + (' (CV.'+(eval('idolCV.cv_name_'+lang)||idolCV.cv_name_en) +')')}</span>)\n\t\t\t\t\t\t\telse return(<span>{(i?\", \":\"\")+(eval('idolCV.idol_name_'+lang)||idolCV.idol_name_en)}</span>)\n\t\t\t\t\t\t})\n\t\t\t\t}</div>\n\t\t\t\t\n\t\t\t\t<div className='buttonsArea'>\n\t\t\t\t\t<SkipPreviousIcon style={{fontSize: 25, color:buttonColor}} onClick={()=>{\n\t\t\t\t\t\t\tif(audio.currentTime>3) audio.currentTime=0;\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(isShuffleActive) {\n\t\t\t\t\t\t\t\t\tvar temp=parseInt(Math.random()*playlist.length);\n\t\t\t\t\t\t\t\t\twhile(temp===nowPlay && playlist.length!==1) temp=parseInt(Math.random()*playlist.length);\n\t\t\t\t\t\t\t\t\tsetNowPlay(temp);\n\t\t\t\t\t\t\t\t\tloadDataTrigger(!loadData);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tsetNowPlay((nowPlay-1+playlist.length)%playlist.length);\n\t\t\t\t\t\t\t\t\tloadDataTrigger(!loadData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}}></SkipPreviousIcon>\n\t\t\t\t\t{\n\t\t\t\t\t\tisAudioPaused?\n\t\t\t\t\t\t<PlayArrowIcon style={{fontSize: 35, color:buttonColor}} onClick={play}></PlayArrowIcon>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<PauseIcon style={{fontSize: 35, color:buttonColor}} onClick={pause}></PauseIcon>\n\t\t\t\t\t}\n\t\t\t\t\t<SkipNextIcon style={{fontSize: 25, color:buttonColor}} onClick={()=>{\n\t\t\t\t\t\tif(isShuffleActive) {\n\t\t\t\t\t\t\tvar temp=parseInt(Math.random()*playlist.length);\n\t\t\t\t\t\t\twhile(temp===nowPlay && playlist.length!==1) temp=parseInt(Math.random()*playlist.length);\n\t\t\t\t\t\t\tsetNowPlay(temp);\n\t\t\t\t\t\t\tloadDataTrigger(!loadData);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsetNowPlay((nowPlay+1)%playlist.length);\n\t\t\t\t\t\t\tloadDataTrigger(!loadData);\n\t\t\t\t\t\t\n\t\t\t\t\t}}></SkipNextIcon>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t\t</>}\n\t\t</>\n\t)\n}\n\nfunction adjust(color, amount) {\n\tif(color===undefined) return null;\n    return '#' + color.replace(/^#/, '').replace(/../g, color => ('0'+Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));\n}\n\nfunction getBrightness(c){\n\tc = c.substring(1); // strip # \n\tvar rgb = parseInt(c, 16); // convert rrggbb to decimal \n\tvar r = (rgb >> 16) & 0xff; // extract red \n\tvar g = (rgb >> 8) & 0xff; // extract green \n\tvar b = (rgb >> 0) & 0xff; // extract blue \n\treturn (0.2126 * r + 0.7152 * g + 0.0722 * b); // per ITU-R BT.709 0~255 \n}\n\nfunction hexToHSL(H) { // Convert hex to RGB first \n\tlet r = 0, g = 0, b = 0; if (H.length === 4) { r = \"0x\" + H[1] + H[1]; g = \"0x\" + H[2] + H[2]; b = \"0x\" + H[3] + H[3]; } else if (H.length === 7) { r = \"0x\" + H[1] + H[2]; g = \"0x\" + H[3] + H[4]; b = \"0x\" + H[5] + H[6]; } // Then to HSL \n\tr /= 255; g /= 255; b /= 255; let cmin = Math.min(r,g,b), cmax = Math.max(r,g,b), delta = cmax - cmin, h = 0, s = 0, l = 0; if (delta === 0) h = 0; else if (cmax === r) h = ((g - b) / delta) % 6; else if (cmax === g) h = (b - r) / delta + 2; else h = (r - g) / delta + 4; h = Math.round(h * 60); if (h < 0) h += 360; l = (cmax + cmin) / 2; s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1)); s = +(s * 100).toFixed(1); l = +(l * 100).toFixed(1); return \"hsl(\" + h + \",\" + s + \"%,\" + l + \"%)\";\n}\nfunction hex_setSat(H, sat) { // Convert hex to RGB first \n\tlet r = 0, g = 0, b = 0; if (H.length === 4) { r = \"0x\" + H[1] + H[1]; g = \"0x\" + H[2] + H[2]; b = \"0x\" + H[3] + H[3]; } else if (H.length === 7) { r = \"0x\" + H[1] + H[2]; g = \"0x\" + H[3] + H[4]; b = \"0x\" + H[5] + H[6]; } // Then to HSL \n\tlet v=Math.max(r,g,b), c=v-Math.min(r,g,b); let h= c && ((v===r) ? (g-b)/c : ((v===g) ? 2+(b-r)/c : 4+(r-g)/c)); h=60*(h<0?h+6:h); let s=sat;\n\tlet f= (n,k=(n+h/60)%6) => v - v*s*Math.max( Math.min(k,4-k,1), 0); return `rgb(${f(5)},${f(3)},${f(1)})`; \n}\n\nfunction stateToProps(state) {\n    return {\n\t\t\t\tisPlayerActive: state.playerActiveReducer,\n        playerReducer : state.playerReducer,\n\t\t\t\tlang: state.langReducer,\n\t\t\t\tnowPage: state.pageReducer,\n\t\t\t\tplaylists: state.playlistsReducer\n  }\n}\n\nexport default connect(stateToProps)(Player);","import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux'\nimport { useLocation, useParams, useHistory } from 'react-router-dom';\nimport { useSwipeable } from \"react-swipeable\";\n\nimport PlaylistAddIcon from '@material-ui/icons/PlaylistAdd';\nimport { IconButton } from '@material-ui/core'\n\nimport Tag from './Tag.js'\n\nfunction SongCard(props) {\n\tconst [tagData, setTagData] = useState([]);\n\tconst [isLoading, setLoading] = useState(true);\n\tconst { lang } = useParams();\n\tconst location = useLocation();\n\tconst history = useHistory();\n\tconst ref = useRef(null);\n\tlet timerID;\n\tconst componentRef = useRef();\n\tconst [isSwiped, setSwiped] = useState(false);\n\tconst handlers = useSwipeable({\n\t\t\tonSwipedRight: (eventData) => setSwiped(false),\n  \t\tonSwipedLeft: (eventData) => setSwiped(true)\n\t});\n\tfunction handleClick(e: any) { \n\t\tif(componentRef && componentRef.current){ \n\t\t\tconst ref: any = componentRef.current;\n\t\t\tif(!ref.contains(e.target)){ setSwiped(false); }\n\t\t} \n\t}\t\n\n\tuseEffect(()=>{ \n\t\tsetLoading(true);\n\t\tsetSwiped(false);\n\t\tif(props.song)\n\t\t\taxios.get('/api/song_data_view?song_id=' + props.song.song_id)\n\t\t\t.then((res)=>{setTagData(res.data.rows); setLoading(false);}) \n\t\t\t.catch(()=>{})\n\t\tdocument.addEventListener(\"touchend\", handleClick, false);\t\n\t\treturn ()=>{\n\t\t\tsetLoading(false);\n\t\t\tclearTimeout(timerID);\n\t\t\tdocument.removeEventListener(\"touchend\", handleClick);\n\t\t}\n\t}, [props.song]);\n\n\tif(!props.song) return (null);\n\n\treturn (\n\t\t<div className={'wrap'} {...handlers}>\n\t\t\t<div className={`${isLoading?'loading':'loaded'} behind alignCenter` }>\n\t\t\t\t<div className='iconArea'><IconButton variant='outlined' size='small' ><PlaylistAddIcon></PlaylistAddIcon></IconButton></div>\n\t\t\t</div>\n\t\t<div className={`songCard pid${props.song.production_id} ${isSwiped?'swiped':''} ${isLoading?'loading':'loaded'}`}  ref={componentRef} onClick={()=>{\n\t\t\t\tsetSwiped(false);\n\t\t\t\thistory.push(`${location.pathname}?song_id=${props.song.song_id}`);\n\t\t\t}}>\n\t\t\t<div className=\"coverImgArea\">\n\t\t\t\t<div className=\"coverImg\">\n\t\t\t\t\t<img src={\"/api/img/album/\"+props.song.album_id}></img>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"title\"><span>{eval('props.song.song_title_'+lang)||props.song.song_title_en}</span></div>\n\n\t\t\t<div className='tagsArea' ref={ref}>\n\t\t\t\t{\n\t\t\t\t\t(props.song.song_type!==1) ?\n\t\t\t\t\t\ttagData.map((idolCV, idx)=>{\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Tag key={idx*2} classify='idol' id={idolCV.idol_id} name={eval('idolCV.idol_name_'+lang)} color1={idolCV.idol_color} color2={adjust(idolCV.idol_color, 90)}></Tag>\n\t\t\t\t\t\t\t\t\t<Tag key={idx*2+1} classify='cv' id={idolCV.cv_id} name={eval('idolCV.cv_name_'+lang)} color1={idolCV.idol_color} color2={adjust(idolCV.idol_color, 90)}></Tag>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t:\n\t\t\t\t\t\ttagData.map((unit, idx)=>{\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Tag key={idx*2} classify='unit' id={unit.unit_id} name={eval('unit.unit_name_'+lang)||unit.unit_name_en} color1={unit.unit_color} color2={adjust(unit.unit_color, 90)}></Tag>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t\t</div>\n\t)\n}\n\n\nfunction adjust(color, amount) {\n\tif(!color) return null;\n    return '#' + color.replace(/^#/, '').replace(/../g, color => ('0'+Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));\n}\n\nfunction hex_setSat(H, sat) { // Convert hex to RGB first \n\tlet r = 0, g = 0, b = 0; if (H.length === 4) { r = \"0x\" + H[1] + H[1]; g = \"0x\" + H[2] + H[2]; b = \"0x\" + H[3] + H[3]; } else if (H.length === 7) { r = \"0x\" + H[1] + H[2]; g = \"0x\" + H[3] + H[4]; b = \"0x\" + H[5] + H[6]; } // Then to HSL \n\tlet v=Math.max(r,g,b), c=v-Math.min(r,g,b); let h= c && ((v===r) ? (g-b)/c : ((v===g) ? 2+(b-r)/c : 4+(r-g)/c)); h=60*(h<0?h+6:h); let s=sat;\n\tlet f= (n,k=(n+h/60)%6) => v - v*s*Math.max( Math.min(k,4-k,1), 0); return `rgb(${f(5)},${f(3)},${f(1)})`; \n}\n\nfunction stateToProps(state) {\n    return {\n\t\t\t\tisPlayerActive: state.playerActiveReducer,\n        playerReducer : state.playerReducer,\n\t\t\t\tlang: state.langReducer,\n\t\t\t\tnowPage: state.pageReducer\n    }\n}\n\nexport default connect(stateToProps)(SongCard);","import React, { useState, useEffect, useRef } from 'react';\nimport { connect } from 'react-redux'\nimport { useParams, useHistory, useLocation } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport { Bar, Line } from 'react-chartjs-2';\nimport axios from 'axios';\nimport XMLParser from 'react-xml-parser';\nimport {parseString} from 'xml2js'\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { withStyles } from '@material-ui/core/styles';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ReactLoading from 'react-loading';\n\nconst style = {\n  background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n  borderRadius: 3,\n  border: 0,\n  color: 'white',\n  height: 48,\n  padding: '0 30px',\n  boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n};\n\nconst StyledToggleButton = withStyles({\n  root: {\n    color: 'rgba(170, 170, 170, 1.0)',\n    textTransform: 'none',\n   \tborder: 'solid #444444 0.2px',\n    '&$selected': {\n      backgroundColor: '#111111',\n\t  color: 'rgba(170, 170, 170, 1.0)',\n      '&:hover': {\n        backgroundColor: '#222222',\n\t    color: 'rgba(170, 170, 170, 1.0)',\n      },\n    },\n  },\n  selected: {},\n})(ToggleButton);\n\nvar heightData = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n\theightAccu = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n\theightPercentage = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n\theightBgColor = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n\tweightData = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n\tweightAccu = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n\tweightPercentage = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n\tweightBgColor = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\nvar bmiData = [0, 0, 0, 0, 0],\n\tbmiAccu = [0, 0, 0, 0, 0],\n\tbmiPercentage = [0, 0, 0, 0, 0, 0],\n\tbmiBgColor = [0, 0, 0, 0, 0];\n\nconst heightGraphData = ()=> ({\n  labels: ['~159cm', '160cm~', '162cm~', '164cm~', '166cm~', '168cm~', '170cm~', '172cm~', '174cm~', '176cm~', '178cm~', '180cm~' , '182cm~' , '184cm~', '186cm~' , '188cm~' ],\n  datasets: [\n    {\n      label: '10  ()',\n      data: [...heightData],\n      backgroundColor: heightBgColor,\n      borderColor: ['rgba(0,0,0,0)'],\n\n      borderWidth: 1,\n    },\n  ],\n});\n\nconst weightGraphData = ()=> ({\n  labels: ['~49kg', '50kg~', '54kg~', '58kg~', '62kg~', '66kg~', '70kg~', '74kg~', '78kg~', '82kg~', '86kg~', '90kg~', '94kg~', '98kg~', '102kg~', '106kg~', '110kg~'],\n  datasets: [\n    {\n      label: '10  ()',\n      data: [...weightData],\n      backgroundColor: weightBgColor,\n      borderColor: ['rgba(0,0,0,0)'],\n\n      borderWidth: 1,\n    },\n  ],\n});\n\nconst bmiGraphData = ()=> ({\n  labels: ['', '', '', '', ''],\n  datasets: [\n    {\n      label: '10  ()',\n      data: [...bmiData],\n      backgroundColor: bmiBgColor,\n      borderColor: ['rgba(0,0,0,0)'],\n\n      borderWidth: 1,\n    },\n  ],\n});\n\nconst options = {\n  scales: {\n    yAxes: [\n      {\n\t\t gridLines:{color:\"#e0e0e0\"},\n        ticks: {\n\t\t\tfontColor: \"#444444\",\n          //beginAtZero: true,\n\t\t\tcallback: function(value, index, values) {\n                return value>=1000? (Intl.NumberFormat().format((value/1000)) + 'K'): value;\n            }\n        },\n      },\n    ],\n\t   xAxes: [\n      {\n\t    gridLines:{color:\"#e0e0e0\"},\n        ticks: {\n\t\t\tfontColor: \"#444444\",\n        },\n      },\n    ],\n  },\n\ttooltips: {\n\t\tcallbacks: {\n          \tlabel: function(tooltipItem, data) {\n              return parseFloat(tooltipItem.yLabel.toFixed(2));\n          \t}\n\t\t}\n\t}\n};\n\nconst darkOptions = {\n  scales: {\n    yAxes: [\n      {\n\t\tgridLines:{color:\"#333333\"},\n        ticks: {\n\t\t\tfontColor: \"#bbbbbb\",\n          //beginAtZero: true,\n\t\t\tcallback: function(value, index, values) {\n                return Intl.NumberFormat().format((value/1000)) + 'K';\n            }\n        },\n      },\n    ],\n    xAxes: [\n      {\n\t    gridLines:{color:\"#333333\"},\n        ticks: {\n\t\t\tfontColor: \"#bbbbbb\",\n            \n        },\n      },\n    ],\n  },\n\ttooltips: {\n\t\tcallbacks: {\n          \tlabel: function(tooltipItem, data) {\n              return tooltipItem.yLabel;\n          \t}\n\t\t}\n\t}\n};\n\n\nconst refreshGraphData = ()=> ({\n  labels: [],\n  datasets: [\n    {\n      data: [],\n      borderWidth: 1,\n    },\n  ],\n});\n\n\nvar userHistoryData = [],\n\tuserHistoryLabel = [];\n\nfunction historyGraphData(type){\n\treturn {\n  labels: userHistoryData.map(e=>e.date?.slice(2,10).replace(/-/g,'/')),\n  datasets: [\n    {\n      label: {weight: '(kg)', height: '(cm)', bmi: 'bmi'}[type],\n      data: userHistoryData.map(e=>eval('e.data.'+type)),\n\t  fill: false,\n      backgroundColor: 'rgb(255, 99, 132)',\n      borderColor: 'rgba(255, 99, 132, 0.2)',\n    },\n  ],\n}};\n\n\n\nfunction Statistic(props) {\n\tconst { lang, page } = useParams();\n\tconst history = useHistory();\n\tconst location = useLocation();\n\t\n\tconst [activeArea, setActiveArea] = useState('init');\n\tconst [activatedCardModal, setActivatedCardModal] = useState(null);\n\t\n\tconst [latestIdx, setLatestIdx] = useState(null);\n\tconst [today, setToday] = useState(null);\n\t\n\tconst [data, setData] = useState(null);\n\tconst [graph, setGraph] = useState(null);\n\tconst [nowGraph, setNowGraph] = useState(null);\n\tconst [historyGraph, setHistoryGraph] = useState(null);\n\tconst [nowHistoryGraph, setNowHistoryGraph] = useState(null);\n\t\n\tconst [heightIdx, setHeightIdx] = useState(null);\n\tconst [weightIdx, setWeightIdx] = useState(null);\n\t\n\tuseEffect(()=>{ \t\n\t\tif(props.info !== null) {\n\t\t\tsetLatestIdx(props.info.length - 1);\n\t\t}\n\t\telse {\n\t\t\tsetLatestIdx(null);\n\t\t}\n\t}, [props.info]);\n\n\tuseEffect(()=>{ \t\n\t\tsetToday(JSON.parse(JSON.stringify(new Date())));\n\t\taxios.get('/api')\n\t\t.then((res)=>{\n\t\t\tparseString(res.data, function (err, result) {\n\t\t\t\tsetData(result.DS_RECRT_BDMSMNT_MSR_INF.row); \n\t\t\t});\n\t\t})\n\t\t.catch(()=>{});\n\t\tsetNowHistoryGraph('weight');\n\t}, []);\n\t\n\tfunction height2idx(height) {\n\t\tif(height < 160.0) return 0;\n\t\telse if(height >= 188.0) return 15;\n\t\telse return parseInt((height-160)/2) + 1;\n\t}\n\tfunction weight2idx(weight) {\n\t\tif(weight < 50.0) return 0;\n\t\telse if(weight >= 110.0) return 16;\n\t\telse return parseInt((weight-50)/4) + 1;\n\t}\n\tfunction bmi2idx(bmi) {\n\t\tif(bmi < 18.5) return 0;\n\t\telse if(bmi < 23) return 1;\n\t\telse if(bmi < 25) return 2;\n\t\telse if(bmi < 30) return 3;\n\t\telse return 4;\n\t}\n\t\n\tuseEffect(()=>{\n\t\tif(data) {\n\t\t\tlet convert = 0.0;\n\t\t\tdata.map((e)=>{\n\t\t\t\tlet wei = parseFloat(e.weight_kg), hei = parseFloat(e.statur_cm);\n\t\t\t\tif(e.statur_cm) heightData[height2idx(hei)]++;\n\t\t\t\tif(e.weight_kg) weightData[weight2idx(wei)]++;\n\t\t\t\tbmiData[bmi2idx(wei/(hei*hei/10000))]++;\n\t\t\t});\n\t\t\theightData.map((e, i)=>{\n\t\t\t\theightAccu[i] = (i===0?0:heightAccu[i-1])+e;\n\t\t\t});\n\t\t\tweightData.map((e, i)=>{\n\t\t\t\tweightAccu[i] = (i===0?0:weightAccu[i-1])+e;\n\t\t\t});\n\t\t\tbmiData.map((e, i)=>{\n\t\t\t\tbmiAccu[i] = (i===0?0:bmiAccu[i-1])+e;\n\t\t\t});\n\t\t\t\n\t\t\theightPercentage.map((e, i)=>{\n\t\t\t\theightPercentage[i] = parseFloat((100 -heightAccu[i]/1000).toFixed(2));\n\t\t\t});\n\t\t\tweightPercentage.map((e, i)=>{\n\t\t\t\tweightPercentage[i] = parseFloat((100 -weightAccu[i]/1000).toFixed(2));\n\t\t\t});\n\t\t\t\n\t\t\theightBgColor = heightBgColor.map(e=>'rgba(140, 140, 140, 0.4)');\n\t\t\tweightBgColor = weightBgColor.map(e=>'rgba(140, 140, 140, 0.4)');\n\t\t\tbmiBgColor = [0, 0, 0, 0, 0];\n\t\t\tbmiBgColor = bmiBgColor.map(e=>'rgba(140, 140, 140, 0.4)');\n\t\t\t\n\t\t\tif(nowGraph===null)\tsetNowGraph('height');\n\t\t}\n\t}, [data]);\n\t\n\tuseEffect(()=>{\n\t\tif(latestIdx && data){\n\t\t\tsetGraph('refreshGraphData');\t\n\t\t\theightBgColor.fill('rgba(140, 140, 140, 0.4)');\n\t\t\tweightBgColor.fill('rgba(140, 140, 140, 0.4)');\n\t\t\tbmiBgColor.fill('rgba(140, 140, 140, 0.4)');\n\t\t\t\n\t\t\tconsole.log(bmiBgColor);\n\t\t\theightBgColor[height2idx(props.info[latestIdx].data.height)] = 'rgba(255, 99, 132, 0.5)';\n\t\t\tweightBgColor[weight2idx(props.info[latestIdx].data.weight)] = 'rgba(255, 99, 132, 0.5)';\n\t\t\tbmiBgColor[bmi2idx(props.info[latestIdx].data.weight/(props.info[latestIdx].data.height*props.info[latestIdx].data.height/10000))] = 'rgba(255, 99, 132, 0.5)';\n\t\t}\n\t\tif(latestIdx!==null) {\n\t\t\tif(latestIdx > 100) {\n\t\t\t\tuserHistoryData = [];\n\t\t\t}\n\t\t\telse if(latestIdx < 12) {\n\t\t\t\tuserHistoryData = [...props.info];\n\t\t\t}else{\n\t\t\t\tuserHistoryData = props.info.slice(latestIdx - 11);\n\t\t\t}\t\n\t\t}\n\t\t\n\t\t\n\t}, [latestIdx]);\n\t\n\tuseEffect(()=>{\n\t\tif(nowGraph!==null) {\n\t\t\tsetGraph(eval(nowGraph+'GraphData'));\t\n\t\t}\n\t\t\n\t\tif(latestIdx!==null) {\n\t\t\theightBgColor[height2idx(props.info[latestIdx]?.data?.height)] = 'rgba(255, 99, 132, 0.5)';\n\t\t\tweightBgColor[weight2idx(props.info[latestIdx]?.data?.weight)] = 'rgba(255, 99, 132, 0.5)';\n\t\t\tbmiBgColor[bmi2idx(props.info[latestIdx]?.data?.weight/(props.info[latestIdx]?.data?.height*props.info[latestIdx]?.data?.height/10000))] = 'rgba(255, 99, 132, 0.5)';\n\n\t\t\tsetHeightIdx(height2idx(props.info[latestIdx]?.data?.height));\n\t\t\tsetWeightIdx(weight2idx(props.info[latestIdx]?.data?.weight));\n\t\t}\n\t}, [nowGraph, page]);\n\n\tuseEffect(()=>{\n\t\tif(nowHistoryGraph!==null) {\n\t\t\tsetHistoryGraph(historyGraphData(nowHistoryGraph));\t\n\t\t}\n\t}, [nowHistoryGraph, page]);\n\t\n\treturn (\n\t<div className={`playlistTab`}>\n\t\t<div className={`setlistArea ${activeArea}`}>\n\t\t\t<div className='labelArea' onClick={()=>setActiveArea(activeArea==='playlist'?'setlist':'playlist')}><div className='label'>\n\t\t\t\t{{kr: ' ', en: 'Live Setlist', jp: ' '}[lang]}\n\t\t\t\t{activeArea==='setlist'?<ArrowDropUpIcon style={{fontSize: 30, color:props.theme==='dark'?'#ffffff':'#444444'}}></ArrowDropUpIcon>:<ArrowDropDownIcon style={{fontSize: 30, color:props.theme==='dark'?'#ffffff':'#444444'}}></ArrowDropDownIcon>}\n\t\t\t</div></div>\n\t\t\t<div className='contentArea' onClick={()=>setActiveArea('setlist')}> \n\t\t\t\t{(props.info !== null && props.info[latestIdx]?.data!==undefined && data) ?(\n\t<>\n\t   <div className='alignCenter toggleArea'>\n\t\t\t\n\t\t\t{props.theme==='dark' ? \n\t\t\t<ToggleButtonGroup size='small' exclusive={true} value={nowGraph} onChange={(e, value)=>{if(value) setNowGraph(value);}}>\n\t\t\t\t<StyledToggleButton value='height'></StyledToggleButton>\n\t\t\t\t<StyledToggleButton value='weight'></StyledToggleButton>\n\t\t\t\t<StyledToggleButton value='bmi'>BMI</StyledToggleButton>\n\t\t\t\t<StyledToggleButton value='jp'></StyledToggleButton>\n\t\t\t\t<StyledToggleButton value='jp'></StyledToggleButton>\n\t\t\t</ToggleButtonGroup>:\n\t\t\t<ToggleButtonGroup size='small' exclusive={true} value={nowGraph} onChange={(e, value)=>{if(value) setNowGraph(value);}}>\n\t\t\t\t<ToggleButton value='height'></ToggleButton>\n\t\t\t\t<ToggleButton value='weight'></ToggleButton>\n\t\t\t\t<ToggleButton value='bmi'>BMI</ToggleButton>\n\t\t\t\t<ToggleButton value='jp'></ToggleButton>\n\t\t\t\t<ToggleButton value='jp'></ToggleButton>\n\t\t\t</ToggleButtonGroup>\n\t\t\t}\n\t\t\t\t\n\t\t\t\n\t\t</div>\n\t\t<div className={'wrap'}><div className={'graphArea'}>\n\t\t\t{nowGraph && <Bar data={graph} options={props.theme==='dark'?darkOptions:options} height={350} />}\n\t\t\t<div className='text'> {{\n\t\t\t\theight: `  ${props.info[latestIdx].data.height}cm  ${!heightIdx?100:heightPercentage[heightIdx - 1]}% ~ ${heightPercentage[heightIdx]}%`, \n\t\t\t\tweight: `  ${props.info[latestIdx].data.weight}kg  ${!weightIdx?100:weightPercentage[weightIdx - 1]}% ~ ${weightPercentage[weightIdx]}%`,\n\t\t\t}[nowGraph]} </div>\n\t\t</div></div>\n\t</>\n\t)\n\t  :\n\t\t<div className='alignCenter'>\n\t   <ReactLoading type={'bubbles'} color={'#aaaaaa'} height={'20%'} width={'20%'} />\n\t\t</div>\n  \t}\n\t\t\t</div>\n\t\t</div>\n\t\n\t\t<div className={`playlistArea ${activeArea}`}>\n\t\t\t<div className='labelArea' onClick={()=>setActiveArea(activeArea==='playlist'?'setlist':'playlist')}><div className='label'>\n\t\t\t\t{{kr: ' ', en: 'My Playlist', jp: ' '}[lang]}\n\t\t\t\t{activeArea!=='playlist'?<ArrowDropUpIcon style={{fontSize: 30, color:props.theme==='dark'?'#ffffff':'#444444'}}></ArrowDropUpIcon>:<ArrowDropDownIcon style={{fontSize: 30, color:props.theme==='dark'?'#ffffff':'#444444'}}></ArrowDropDownIcon>}\n\t\t\t</div></div>\n\t\t\t\n\t\t\t<div className='contentArea' onClick={()=>setActiveArea('playlist')}> \n\t\t\t<div className='alignCenter toggleArea'>\n\t\t\t{props.theme==='dark' ? \n\t\t\t\t<ToggleButtonGroup size='small' exclusive={true} value={nowHistoryGraph} onChange={(e, value)=>{if(value) setNowHistoryGraph(value);}}>\n\t\t\t\t\t<StyledToggleButton value='height'></StyledToggleButton>\n\t\t\t\t\t<StyledToggleButton value='weight'></StyledToggleButton>\n\t\t\t\t\t<StyledToggleButton value='bmi'>BMI</StyledToggleButton>\n\t\t\t\t\t<StyledToggleButton value='jp'></StyledToggleButton>\n\t\t\t\t\t<StyledToggleButton value='jp'></StyledToggleButton>\n\t\t\t\t</ToggleButtonGroup>:\n\t\t\t\t<ToggleButtonGroup size='small' exclusive={true} value={nowHistoryGraph} onChange={(e, value)=>{if(value) setNowHistoryGraph(value);}}>\n\t\t\t\t\t<ToggleButton value='height'></ToggleButton>\n\t\t\t\t\t<ToggleButton value='weight'></ToggleButton>\n\t\t\t\t\t<ToggleButton value='bmi'>BMI</ToggleButton>\n\t\t\t\t\t<ToggleButton value='jp'></ToggleButton>\n\t\t\t\t\t<ToggleButton value='jp'></ToggleButton>\n\t\t\t\t</ToggleButtonGroup>\n\t\t\t}\n\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className={'wrap'}><div className={'graphArea'}>\n\t\t\t\t\t{nowHistoryGraph && <Line data={historyGraph} options={props.theme==='dark'?darkOptions:options} height={350} />}\n\t\t\t\t</div></div>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n\t\n\t)\n}\nfunction stateToProps(state) {\n\treturn {\n\t\tinfo: state.infoReducer,\n\t\tisPlayerActive: state.playerActiveReducer,\n\t\tplayerReducer : state.playerReducer,\n\t\tlang: state.langReducer,\n\t\tnowPage: state.pageReducer,\n\t\ttheme: state.themeReducer,\n\t\tplaylists: state.playlistsReducer,\n\t}\n}\n\nexport default connect(stateToProps)(Statistic);","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux'\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select'; \nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport FilterListIcon from '@material-ui/icons/FilterList';\n\nimport SongCard from './SongCard.js';\nimport Tag from './Tag.js'\n\n\nfunction SongCardList(props) {\n\tconst { lang } = useParams();\n\t\n\tconst [isFilterActive, setFilterActive] = useState(false);\t\n\tconst [songs, setSongs] = useState([]);\n\tconst [songsFilter, setSongsFilter] = useState([]);\n\tconst [songsInputFilter, setSongsInputFilter] = useState([]);\n\t\n\tconst [productions, setProductions] = useState([]);\n\tconst [productionChecked, setProductionChecked] = useState([]);\n\tconst [productionCheckedCnt, setProductionCheckedCnt] = useState(0);\n\t\n\tconst [songAttrs, setSongAttrs] = useState([0, 1, 2, 3]);\n\tconst [songAttrChecked, setSongAttrChecked] = useState([false, false, false, false]);\n\tconst [songAttrCheckedCnt, setSongAttrCheckedCnt] = useState(0);\n\t\n\tconst [levels, setLevelsAttrs] = useState([0, 1, 2]);\n\tconst [levelChecked, setLevelChecked] = useState([false, false, false]);\n\tconst [levelCheckedCnt, setLevelCheckedCnt] = useState(0);\n\t\n\tconst [inputVal,setInputVal] = useState('');\n\t\n\tconst [order, setOrder] = useState('');\n\tconst [orderSt, setOrderSt] = useState('');\n\t\n\tconst dark='#dddddd', light='#555555';\n\tconst useStyles = makeStyles({root: { \"& .MuiSvgIcon-root\": {color: props.theme==='dark'?'#dddddd':'#555555' }, '& label.Mui-focused': { color: props.theme==='dark'?'#dddddd':'#555555' },'& label': { color: props.theme==='dark'?'#dddddd':'#555555' },\"& .MuiOutlinedInput-input\": { color: props.theme==='dark'?'#dddddd':'#555555' }, '& .MuiOutlinedInput-root': { '& fieldset': { borderColor: props.theme==='dark'?'#dddddd':'#333333', }, '&.Mui-focused fieldset': { borderColor: props.theme==='dark'?'#dddddd':'#555555', }, },}});\n\tconst classes = useStyles();\n\tvar timerID;\n\n\tuseEffect(()=>{ \t\n\t\taxios.get('/api/song_album_view')\n\t\t.then((res)=>{setSongs(shuffle(res.data.rows));setSongsFilter(res.data.rows);setSongsInputFilter(res.data.rows);}) \n\t\t.catch(()=>{});\n\t\taxios.get('/api/production')\n\t\t.then((res)=>{setProductions(res.data.rows); let temp = new Array(res.data.rows.length+1); setProductionChecked([...temp.fill(false)])}) \n\t\t.catch(()=>{});\n\t\treturn ()=>clearTimeout(timerID);\n\t}, []);\n\t\n\tuseEffect(()=>{ \t\n\t\t\tsetSongsFilter(songs.filter((song)=>(productionCheckedCnt?productionChecked[song.production_id]:true)&&(songAttrCheckedCnt?songAttrChecked[song.song_type]:true)&&(levelCheckedCnt?levelChecked[song.song_level]:true)));\n\t}, [productionCheckedCnt, songAttrCheckedCnt, levelCheckedCnt]);\n\t\n\t\n\tuseEffect(()=>{\n\t\tinputFilter(inputVal);\n\t}, [songsFilter]);\n\n\tfunction inputFilter(val){\n\t\taxios.all([getSongIdol(val), getSongUnit(val)]).then(axios.spread((res1, res2)=>{\n\t\t\tsetSongsInputFilter(songsFilter.filter(({song_title_kr: tk, song_title_en: te, song_title_jp: tj, song_id: si})=>tk?.toLowerCase().includes(val.toLowerCase())||te?.toLowerCase().includes(val.toLowerCase())||tj?.toLowerCase().includes(val.toLowerCase())||res1.data.rows.some((song)=>song['song_id']===si)||res2.data.rows.some((song)=>song['song_id']===si))); \n\t\t})).catch();\n\t}\n\t\n\tuseEffect(()=>{\n\t let temp = [...songsInputFilter];\n\t\tif(orderSt===0) {\n\t\t\tshuffle(temp);\n\t\t\tsetSongsInputFilter([...temp]);\n\t\t}\n\t\telse if(orderSt===1 && order===0) {\n\t\t\tsetSongsInputFilter([...temp.sort((a,b)=>{return eval('a.song_title_'+lang+'.toUpperCase()')>eval('b.song_title_'+lang+'.toUpperCase()')?1:-1})]);\n\t\t}\n\t\telse if(orderSt===1 && order===1) {\n\t\t\tsetSongsInputFilter([...temp.sort((a,b)=>{return eval('a.song_title_'+lang+'.toUpperCase()')>eval('b.song_title_'+lang+'.toUpperCase()')?-1:1})]);\n\t\t}\n\t\telse if(orderSt===2 && order===0) {\n\t\t\tsetSongsInputFilter([...temp.sort((a,b)=>{return (a.album_release_date>b.album_release_date)?1:-1})]);\n\t\t}\n\t\telse if(orderSt===2 && order===1) {\n\t\t\tsetSongsInputFilter([...temp.sort((a,b)=>{return (a.album_release_date<b.album_release_date)?1:-1})]);\n\t\t}\n\t\telse if(orderSt===3 && order===0) {\n\t\t\tsetSongsInputFilter([...temp.sort((a,b)=>{return (a.song_level>b.song_level)?1:-1})]);\n\t\t}\n\t\telse if(orderSt===3 && order===1) {\n\t\t\tsetSongsInputFilter([...temp.sort((a,b)=>{return (a.song_level<b.song_level)?1:-1})]);\n\t\t}\n\t}, [orderSt, order]);\n\t\n\tfunction getSongIdol(val){\n\t\treturn axios.get(`/api/song_idol_cv/search?idol_name_kr=${val}&idol_name_jp=${val}&idol_name_en=${val}&cv_name_kr=${val}&cv_name_jp=${val}&cv_name_en=${val}`);\t\t\t\t \n\t}\n\tfunction getSongUnit(val){\n\t\treturn axios.get(`/api/song_unit_idol_cv/search?idol_name_kr=${val}&idol_name_jp=${val}&idol_name_en=${val}&cv_name_kr=${val}&cv_name_jp=${val}&cv_name_en=${val}&unit_name_kr=${val}&unit_name_jp=${val}&unit_name_en=${val}`);\n\t}\n\treturn (\n\t\t<>\n\t\t<div className={`songSearchArea`}>\n\t\t\t<div className={`filterArea ${!isFilterActive&&'inactive'}`}>\n\t\t\t\t<div className={`production wrapper`}>\n\t\t\t\t\t<div className='label'>{{kr:'',jp:'',en:'Series'}[lang]}</div>\n\t\t\t\t\t<div className='tagsArea alignCenter'>\n\t\t\t\t\t\t<div className='tags production'>{\n\t\t\t\t\t\t\tproductions.map((production, i)=>{\n\t\t\t\t\t\t\t\t\treturn(<div className={`tagCtrl ${!productionChecked[i+1]&&'inactive'}`} key={i} onClick={()=>{\n\t\t\t\t\t\t\t\t\t\t\tsetProductionCheckedCnt(productionChecked[i+1]?(productionCheckedCnt-1):(productionCheckedCnt+1));\t\n\t\t\t\t\t\t\t\t\t\t\tlet temp=[...productionChecked]; \n\t\t\t\t\t\t\t\t\t\t\ttemp.splice(i+1, 1, !temp[i+1]);\n\t\t\t\t\t\t\t\t\t\t\tsetProductionChecked([...temp]);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<Tag key={i} classify='production' id={production.production_id} name={eval('production.series_short_'+lang)} color1={adjust(production.production_color, 120)} color2={adjust(production.production_color, 40)}></Tag>\n\t\t\t\t\t\t\t\t</div>)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={`songAttr wrapper`}>\n\t\t\t\t\t<div className='label'>{{kr:'',jp:'',en:'Song'}[lang]}</div>\n\t\t\t\t\t<div className='tagsArea alignCenter'>\n\t\t\t\t\t\t<div className='tags'>{\n\t\t\t\t\t\t\tsongAttrs.map((songAttr, i)=>{\n\t\t\t\t\t\t\t\t\treturn(<div className={`tagCtrl ${!songAttrChecked[i]&&'inactive'}`} key={i} onClick={()=>{\n\t\t\t\t\t\t\t\t\t\t\tsetSongAttrCheckedCnt(songAttrChecked[i]?(songAttrCheckedCnt-1):(songAttrCheckedCnt+1));\t\n\t\t\t\t\t\t\t\t\t\t\tlet temp=[...songAttrChecked]; \n\t\t\t\t\t\t\t\t\t\t\ttemp.splice(i, 1, !temp[i]);\n\t\t\t\t\t\t\t\t\t\t\tsetSongAttrChecked([...temp]);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<Tag key={i} classify='songAttr' id={i} name={{kr:{0:'',1:'',2:'',3:''}[i], en:{0:'Solo',1:'Unit',2:'Multi',3:'ALL'}[i], jp:{0:'',1:'',2:'',3:''}[i]}[lang]} color1={{0:'#FF0000',1:'#00FF00',2:'#0000FF',3:'#F0F0F0'}[i]} color2={{0:'#FF0000',1:'#00FF00',2:'#0000FF',3:'#F0F0F0'}[i]}></Tag>\n\t\t\t\t\t\t\t\t</div>)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t\t<div className={`level wrapper`}>\n\t\t\t\t\t<div className='label'>{{kr:'',jp:'',en:'Level'}[lang]}</div>\n\t\t\t\t\t<div className='tagsArea alignCenter'>\n\t\t\t\t\t\t<div className='tags'>{\n\t\t\t\t\t\t\tlevels.map((level, i)=>{\n\t\t\t\t\t\t\t\t\treturn(<div className={`tagCtrl ${!levelChecked[i]&&'inactive'}`} key={i} onClick={()=>{\n\t\t\t\t\t\t\t\t\t\t\tsetLevelCheckedCnt(levelChecked[i]?(levelCheckedCnt-1):(levelCheckedCnt+1));\t\n\t\t\t\t\t\t\t\t\t\t\tlet temp=[...levelChecked]; \n\t\t\t\t\t\t\t\t\t\t\ttemp.splice(i, 1, !temp[i]);\n\t\t\t\t\t\t\t\t\t\t\tsetLevelChecked([...temp]);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<Tag key={i} classify='songAttr' id={i} name={{kr:{0:'',1:'',2:''}[i], en:{0:'Easy',1:'Normal',2:'Hard'}[i], jp:{0:'',1:'',2:''}[i]}[lang]} color1={{0:'#FF0000',1:'#00FF00',2:'#0000FF'}[i]} color2={{0:'#FF0000',1:'#00FF00',2:'#0000FF'}[i]}></Tag>\n\t\t\t\t\t\t\t\t</div>)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t\t<div className={`order wrapper`}>\n\t\t\t\t\t<div className='label'>{{kr:'',jp:'',en:'Sort'}[lang]}</div>\n\t\t\t\t\t<div className='alignCenter'>\n\n\t\t\t\t\t\t<FormControl variant=\"outlined\" className={`formCtrl`} style={{width:'40%',maxWidth:'300px', marginRight:'20px' }} className={classes.root} margin=\"dense\">\n\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-outlined-label\" >{{kr:'',jp:'',en:'Sort by'}[lang]}</InputLabel>\n\t\t\t\t\t\t\t<Select labelId=\"demo-simple-select-outlined-label\" id=\"demo-simple-select-outlined\" value={orderSt} onChange={e=>setOrderSt(e.target.value)}>\n\t\t\t\t\t\t\t\t<MenuItem value={0}>{{kr:'',jp:'',en:'Random'}[lang]}</MenuItem> \n\t\t\t\t\t\t\t\t<MenuItem value={1}>{{kr:'',jp:'',en:'Title'}[lang]}</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value={2}>{{kr:'',jp:'',en:'Release Date'}[lang]}</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value={3}>{{kr:'',jp:'',en:'Level'}[lang]}</MenuItem>  \n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<FormControl variant=\"outlined\" className={`formCtrl`} style={{width:'30%',maxWidth:'220px'}} margin=\"dense\" className={classes.root}>\n\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-outlined-label\" >{{kr:'',jp:'',en:'Order by'}[lang]}</InputLabel>\n\t\t\t\t\t\t\t<Select labelId=\"demo-simple-select-outlined-label\" id=\"demo-simple-select-outlined\" value={order} onChange={e=>setOrder(e.target.value)}>\n\t\t\t\t\t\t\t\t<MenuItem value={0}>{{kr:'',jp:'',en:'Ascending'}[lang]}</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem value={1}>{{kr:'',jp:'',en:'Descending'}[lang]}</MenuItem>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</FormControl>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='songSearchBar'>\n\t\t\t\t<div className={`filterButtonArea alignCenter`} onClick={()=>setFilterActive(!isFilterActive)}> <FilterListIcon></FilterListIcon></div>\n\t\t\t\t<div className='inputArea'> \n\t\t\t\t\t<input className=\"songSearchInput\" type=\"search\" name=\"\" placeholder={{kr:\", , ,  \",jp:', , ,  ',en:\"Title, Idol, CV, Unit search...\"}[lang]} onChange={(e)=>{\n\t\t\t\t\tclearTimeout(timerID);\n\t\t\t\t\ttimerID=setTimeout(()=>{\n\t\t\t\t\t\tinputFilter(e.target.value);\n\t\t\t\t\t\tsetInputVal(e.target.value);\n\t\t\t\t\t},500);\n\t\t\t\t\t}}/>\n\t\t\t\t</div>\n\t\t\t</div> \n\t\t</div>\n\t\t\n\t\t<div className='songCardList'  onTouchStart={()=>{setFilterActive(false)}}>\n\t\t\t\n\t\t\t{ \n\t\t\t\tsongsInputFilter.map((song, idx)=>{\n\t\t\t\t\treturn (<>\n\t\t\t\t\t\t<SongCard key={idx} song={song}> </SongCard>\n\t\t\t\t\t</>)\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t\t</>\n\t)\n}\n\nfunction shuffle(array) { for (let i = array.length - 1; i > 0; i--) { let j = Math.floor(Math.random() * (i + 1)); [array[i], array[j]] = [array[j], array[i]]; } return [...array]; }\n\nfunction adjust(color, amount) {\n\tif(!color) return null;\n    return '#' + color.replace(/^#/, '').replace(/../g, color => ('0'+Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));\n}\n\nfunction stateToProps(state) {\n    return {\n\t\t\t\tisPlayerActive: state.playerActiveReducer,\n        playerReducer : state.playerReducer,\n\t\t\t\tlang: state.langReducer,\n\t\t\t\tnowPage: state.pageReducer,\n\t\t\t\ttheme: state.themeReducer\n    }\n}\n\nexport default connect(stateToProps)(SongCardList);","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux'\nimport { useParams, useHistory, useLocation } from 'react-router-dom';\nimport { useSwipeable } from \"react-swipeable\";\n\nimport MusicNoteIcon from '@material-ui/icons/MusicNote';\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nimport Player from './Player.js';\n\nfunction Nav(props) {\n\tconst { lang, page  } = useParams();\n\tconst history = useHistory();\n\tconst location = useLocation();\n\tconst iconColor='#909090',iconActiveColor='#f0757c';\n\tconst handlers = useSwipeable({\n\t\t\tonSwipedUp: (eventData) => history.push(`${location.pathname}?song_id=${props.playerReducer.song_id}`)\n\t});\n\t\n\t\n\treturn (\n\t\t<div className=\"nav\" {...handlers}>\n\t\t\t<div className={'menu '+ ((page === 'welcome' || page === 'init') ? \"inactive\": \"\")}>\n\t\t\t\t<div className={\"tab profile \" + (props.nowPage === 'profile' ? \"active\" : \"\")}\n\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\tif(props.nowPage !== 'profile') history.replace(`/${lang}/profile`);\n\t\t\t\t\t}}>\n\t\t\t\t\t<MusicNoteIcon style={{fontSize: 35, color:props.nowPage==='profile'?iconActiveColor:iconColor}}></MusicNoteIcon>\n\t\t\t\t\t<p className=\"label\">{{ kr: '', en: 'Profile' }[lang]}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={\"tab statistic \" + (props.nowPage === 'statistic' ? \"active\" : \"\")}\n\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\tif(props.nowPage !== 'statistic') history.replace(`/${lang}/statistic`);\n\t\t\t\t\t}}>\n\t\t\t\t\t<QueueMusicIcon style={{fontSize: 35, color:props.nowPage==='statistic'?iconActiveColor:iconColor}}></QueueMusicIcon>\n\t\t\t\t\t<p className=\"label\">{{ kr: '', en: 'Statistic' }[lang]}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={\"tab program \" + (props.nowPage === 'program' ? \"active\" : \"\")}\n\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\tif(props.nowPage !== 'program') history.replace(`/${lang}/program`);\n\t\t\t\t\t}}>\n\t\t\t\t\t<SearchIcon style={{fontSize: 35, color:props.nowPage==='program'?iconActiveColor:iconColor}}></SearchIcon>\n\t\t\t\t\t<p className=\"label\">{{ kr: '', en: 'Program', jp: ''}[lang]}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={\"tab setting \" + (props.nowPage === 'setting' ? \"active\" : \"\")}\n\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\tif(props.nowPage !== 'setting') history.replace(`/${lang}/setting`);\n\t\t\t\t\t}}>\n\t\t\t\t\t<SettingsIcon style={{fontSize: 35, color:props.nowPage==='setting'?iconActiveColor:iconColor}}></SettingsIcon>\n\t\t\t\t\t<p className=\"label\">{{kr: '', en: 'Setting', jp: ''}[lang]}</p>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t<Player></Player>\n\t\t</div>\n\t)\n}\n\nfunction stateToProps(state) {\n    return {\n\t\tinfo: state.infoReducer,\n\t\t\t\tisPlayerActive: state.playerActiveReducer,\n        playerReducer : state.playerReducer,\n\t\t\t\tlang: state.langReducer,\n\t\t\t\tnowPage: state.pageReducer\n    }\n}\n\nexport default connect(stateToProps)(Nav);","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { connect } from 'react-redux'\n\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\n\nfunction PlaylistTab(props) {\n\tconst { lang } = useParams();\n\t\n\tconst [activeArea, setActiveArea] = useState('init');\n\tconst [activatedCardModal, setActivatedCardModal] = useState(null);\n\t\n\tvar timerID;\n\t\n\tuseEffect(()=>{ \t\n\t\treturn ()=>clearTimeout(timerID);\n\t}, []);\n\t\n\n\treturn (<div className={`statistic`}>\n\t<div className={`playlistTab`}>\n\t\t<div className={`setlistArea ${activeArea}`}>\n\t\t\t<div className='labelArea' onTouchStart={()=>setActiveArea(activeArea==='playlist'?'setlist':'playlist')}><div className='label'>\n\t\t\t\t{{kr: ' ', en: 'Live Setlist', jp: ' '}[lang]}\n\t\t\t\t{activeArea==='setlist'?<ArrowDropUpIcon style={{fontSize: 30, color:props.theme==='dark'?'#ffffff':'#444444'}}></ArrowDropUpIcon>:<ArrowDropDownIcon style={{fontSize: 30, color:props.theme==='dark'?'#ffffff':'#444444'}}></ArrowDropDownIcon>}\n\t\t\t</div></div>\n\t\t\t<div className='contentArea' onTouchStart={()=>setActiveArea('setlist')}> \n\t\t\t\t<div className='alert'>{{kr: '   :)', en: 'Getting ready :)', jp: ' :)'}[lang]}</div>\n\t\t\t</div>\n\t\t</div>\n\t\n\t\t<div className={`playlistArea ${activeArea}`} >\n\t\t\t<div className='labelArea' onTouchStart={()=>setActiveArea(activeArea==='playlist'?'setlist':'playlist')}><div className='label'>\n\t\t\t\t{{kr: ' ', en: 'My Playlist', jp: ' '}[lang]}\n\t\t\t\t{activeArea!=='playlist'?<ArrowDropUpIcon style={{fontSize: 30, color:props.theme==='dark'?'#ffffff':'#444444'}}></ArrowDropUpIcon>:<ArrowDropDownIcon style={{fontSize: 30, color:props.theme==='dark'?'#ffffff':'#444444'}}></ArrowDropDownIcon>}\n\t\t\t</div></div>\n\t\t\t<div className='ttt'>\n\t\t\t\t<div className='alert'>{props.playlists?.length===0&& {kr: '...', en: \"It's empty...\", jp: '...'}[lang]}</div>\n\t\t\t<div className='contentArea' onTouchStart={()=>setActiveArea('playlist')}> {\n\t\t\t\tprops.playlists?.map((playlist, i)=>{\n\t\t\t\t\treturn (<div className={`playlistCard`} onClick={()=>{\n\t\t\t\t\t\tactivatedCardModal!==i ? setActivatedCardModal(i):setActivatedCardModal(null);\n\t\t\t\t\t}} style={{backgroundImage:`url(/api/img/album/${playlist.data[0].song_id})`, backgroundRepeat:'no-repeat', backgroundSize: 'cover',backgroundPosition:'center center'}}>\n\t\t\t\t\t\t<div className={`cardModal alignCenter ${i!==activatedCardModal&&'inactive'}`}> \n\t\t\t\t\t\t\t<div className={`edit`}><EditIcon style={{fontSize: 25, color:'#ffffff'}}></EditIcon></div>\n\t\t\t\t\t\t\t<div className={`play`} onClick={()=>props.dispatch({type:'playlistReload',payload:{playlistNum: i}})}><PlayArrowIcon style={{fontSize: 45, color:'#ffffff'}}></PlayArrowIcon></div>\n\t\t\t\t\t\t\t<div className={`delete`} onClick={()=>{window.confirm({kr: ' ?', en: 'Delete?', jp: '?'}[lang])&&props.dispatch({type:'deletePlaylist', payload:playlist.name})}}><DeleteIcon style={{fontSize: 25, color:'#ffffff'}}></DeleteIcon></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={`textArea alignCenter`}>\n\t\t\t\t\t\t\t<div className={`text`}>\n\t\t\t\t\t\t\t\t<div className={`title alignCenter`}><span>{playlist.name}</span></div>\n\t\t\t\t\t\t\t\t<div className={`songCnt alignCenter`}>{playlist.data.length+{kr: '', en: ' songs', jp: ''}[lang]}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>)\n\t\t\t\t})\n\t\t\t}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t</div>)\n}\n\n\nfunction stateToProps(state) {\n    return {\n\t\t\t\tisPlayerActive: state.playerActiveReducer,\n        playerReducer : state.playerReducer,\n\t\t\t\tlang: state.langReducer,\n\t\t\t\tnowPage: state.pageReducer,\n\t\t\t\ttheme: state.themeReducer,\n \t\t\tplaylists: state.playlistsReducer,\n\t\t}\n}\n\nexport default connect(stateToProps)(PlaylistTab);","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux'\nimport { useParams, useHistory, useLocation } from 'react-router-dom';\n\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport Button from '@material-ui/core/Button';\n\n \nfunction Main(props) {\n\tconst { lang, page } = useParams();\n\tconst history = useHistory();\n\tconst location = useLocation();\n\t \n\tconst [activeArea, setActiveArea] = useState('init');\n\tconst [activatedCardModal, setActivatedCardModal] = useState(null);\n\t\n\tvar timerID;\n\t\n\tuseEffect(()=>{ \n\t\tif(localStorage.getItem('userInfo')!==null) {\n\t\t\tprops.dispatch({type:'load'});\n\t\t\tif(page === 'welcome') history.replace(`/${lang}/profile`);\n\t\t}\n\t}, [localStorage.getItem('userInfo')]);\n\t\n\n\treturn (\n\t<div className={`main alignCenter`}>\n\t\t<div className={`info `}>\n\t\t\t<p>!</p>\n\t\t\t<p>    :(</p>\n\t\t\t <Button variant=\"outlined\" size=\"large\" color=\"primary\"\tonClick={()=>history.push(`/${lang}/init`)}>\n             \n        </Button>\n\t\t</div>\n\t</div>\n\t)\n}\n\n\nfunction stateToProps(state) {\n\treturn {\n\t\t\tisPlayerActive: state.playerActiveReducer,\n\t\t\tplayerReducer : state.playerReducer,\n\t\t\tlang: state.langReducer,\n\t\t\tnowPage: state.pageReducer,\n\t\t\ttheme: state.themeReducer,\n \t\t\tplaylists: state.playlistsReducer,\n\t\t}\n}\n\nexport default connect(stateToProps)(Main);","import React, { useState, useEffect, useRef } from 'react';\nimport { connect } from 'react-redux'\nimport { useParams, useHistory, useLocation } from 'react-router-dom';\n\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport Button from '@material-ui/core/Button';\n\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport FilledInput from '@material-ui/core/FilledInput';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport { CircularInput, CircularTrack, CircularProgress, CircularThumb } from \"react-circular-input\";\n\nconst lightTheme = createMuiTheme({\n  palette: {\n    type: \"light\"\n  }\n});\nconst darkTheme = createMuiTheme({\n  palette: {\n\t primary: {\n      main: \"#ffaea8\",\n     },\n    type: \"dark\"\n  }\n});\n\nfunction Input(props) {\n\tconst { lang } = useParams();\n\tconst history = useHistory();\n\t\n\tconst [activeArea, setActiveArea] = useState('init');\n\tconst [activatedCardModal, setActivatedCardModal] = useState(null);\n\tconst nameRef = useRef(null);\n\tconst heightRef = useRef(null);\n\tconst weightRef = useRef(null);\n\tconst waistRef = useRef(null);\n\tconst headRef = useRef(null);\n\tconst feetRef = useRef(null);\n\t\n\tconst [heightDial, setHeightDial] = useState(0.5);\n\tconst [weightDial, setWeightDial] = useState(0.5);\n\t\n\tconst [latestIdx, setLatestIdx] = useState(null);\n\tconst [latestData, setLatestData] = useState(null);\n\t\n\tconst location = useLocation();\n\t\n\tconst userInfo = {};\n\t\n\tvar timerID;\n\t\n\tuseEffect(()=>{ \t\n\t\treturn ()=>clearTimeout(timerID);\n\t}, []);\n\t\n\tuseEffect(()=>{ \t\n\t\tif(props.info !== null) {\n\t\t\tsetLatestIdx(props.info.length - 1);\n\t\t\tif(props.info[props.info.length - 1]?.data?.name !== undefined) {\n\t\t\t\tnameRef.current.value = props.info[props.info.length - 1]?.data?.name;\n\t\t\t\twaistRef.current.value = props.info[props.info.length - 1]?.data?.waist;\n\t\t\t\theadRef.current.value = props.info[props.info.length - 1]?.data?.head;\n\t\t\t\tfeetRef.current.value = props.info[props.info.length - 1]?.data?.feet;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tsetLatestIdx(null);\n\t\t\tnameRef.current.value = '';\n\t\t\twaistRef.current.value = '';\n\t\t\theadRef.current.value = '';\n\t\t\tfeetRef.current.value = '';\n\t\t}\n\t}, [props.info, location]);\n\t\n\treturn (\n\t<div className={`input`}>\n\t\t<div className={`info`}>\n\t\t\t<div className={`container`}>\n\t\t\t\t <ThemeProvider theme={props.theme==='dark'?{...darkTheme}:{...lightTheme}}>\n\t\t\t\t<div className='name'><TextField id=\"standard-basic\" label=\"\" inputRef={nameRef}/> </div>\t\n\t\t\t\t\n\t\t\t\t<div className='dial alignCenter'><CircularInput value={heightDial} onChange={setHeightDial} radius={70}>\n\t\t\t\t\t<CircularTrack strokeWidth={12} stroke={props.theme==='dark'?'#333':'#eee'}/>\n\t\t\t\t\t<CircularProgress strokeWidth={14} stroke={`hsl(${210-heightDial * 210}, 100%, 66%)`}/>\n\t\t\t\t\t<CircularThumb r={12} fill={`hsl(${210-heightDial * 210}, 100%, 66%)`}/>\n\t\t\t\t\t<text x={70} y={70} textAnchor=\"middle\" dy=\"0.3em\" fontSize=\"25px\" fontWeight=\"bold\" fill={props.theme==='dark'?'#ccc':'#444'}>{(heightDial*70+140).toFixed(1)}cm</text>\n\t\t\t\t</CircularInput></div>\n\t\t\t\t<div className='dial alignCenter'><CircularInput value={weightDial} onChange={setWeightDial} radius={70}>\n\t\t\t\t\t<CircularTrack strokeWidth={12} stroke={props.theme==='dark'?'#333':'#eee'}/>\n\t\t\t\t\t<CircularProgress strokeWidth={14} stroke={`hsl(${Math.max(0 ,210-weightDial * 270)}, 100%, 66%)`}/>\n\t\t\t\t\t<CircularThumb r={12} fill={`hsl(${Math.max(0 ,210-weightDial * 270)}, 100%, 66%)`}/>\n\t\t\t\t\t<text x={70} y={70} textAnchor=\"middle\" dy=\"0.3em\" fontSize=\"25px\" fontWeight=\"bold\" fill={props.theme==='dark'?'#ccc':'#444'}>{(weightDial*90+40).toFixed(1)}kg</text>\n\t\t\t\t</CircularInput></div>\n\n\t\t\t\t<div className='waist'><TextField id=\"standard-basic\" label=\" \" inputRef={waistRef}/> </div>\t\n\t\t\t\t<div className='head'><TextField id=\"standard-basic\" label=\" \" inputRef={headRef}/> </div>\t\n\t\t\t\t<div className='feet'><TextField id=\"standard-basic\" label=\" \" inputRef={feetRef}/> </div>\t\n\n\t\t\t\t<Button variant=\"outlined\" size=\"large\" color=\"primary\"\tonClick={()=>{history.push(`/${lang}/profile`); props.dispatch({type:'init', payload:{name: nameRef.current.value, height: (heightDial*70+140).toFixed(1), weight: (weightDial*90+40).toFixed(1), waist: waistRef.current.value, head: headRef.current.value, feet: feetRef.current.value, bmi: (weightDial*90+40)/((heightDial*70+140)*(heightDial*70+140)/10000)}}); \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  /*nameRef.current.value=''; heightRef.current.value=''; weightRef.current.value=''; waistRef.current.value=''; headRef.current.value=''; feetRef.current.value='';*/}}>\n\t\t\t\t\t\n\t\t\t\t</Button>\n\t\t\t\t</ThemeProvider>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t)\n}\n\nfunction stateToProps(state) {\n\treturn {\n\t\tinfo: state.infoReducer,\n\t\tisPlayerActive: state.playerActiveReducer,\n\t\tplayerReducer : state.playerReducer,\n\t\tlang: state.langReducer,\n\t\tnowPage: state.pageReducer,\n\t\ttheme: state.themeReducer,\n\t\tplaylists: state.playlistsReducer,\n\t}\n}\n\nexport default connect(stateToProps)(Input);","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux'\nimport { useParams, useHistory, useLocation } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\n\nfunction Profile(props) {\n\tconst { lang, page } = useParams();\n\tconst history = useHistory();\n\tconst location = useLocation();\n\t\n\tconst [activeArea, setActiveArea] = useState('init');\n\tconst [activatedCardModal, setActivatedCardModal] = useState(null);\n\t\n\tconst [latestIdx, setLatestIdx] = useState(null);\n\tconst [today, setToday] = useState(null);\n\t\n\tconst [spanSec, setSpanSec] = useState(0);\n\tconst [rand, setRand] = useState(Math.floor(Math.random()*3));\n\t\n\tvar timerID;\n\t\n\tfunction bmi2str(bmi) {\n\t\tif(bmi < 18.5) return '';\n\t\telse if(bmi < 23) return '';\n\t\telse if(bmi < 25) return '';\n\t\telse if(bmi < 30) return '';\n\t\telse return '';\n\t}\n\t\n\tfunction TimeBefore() {\n\t\treturn (<>\n\t\t\t{Math.round(Math.abs((today - new Date(props.info[latestIdx].date)) / (1000)))<60?(Math.round(Math.abs((today - new Date(props.info[latestIdx].date)) / (1000)))+''):(Math.round(Math.abs((today - new Date(props.info[latestIdx].date)) / (1000)))<60*60?(parseInt(Math.round(Math.abs((today - new Date(props.info[latestIdx].date)) / (1000)))/60)+''):(Math.round(Math.abs((today - new Date(props.info[latestIdx].date)) / (1000)))<60*60*24?(parseInt(Math.round(Math.abs((today - new Date(props.info[latestIdx].date)) / (1000)))/60/60)+''):(parseInt(Math.round(Math.abs((today - new Date(props.info[latestIdx].date)) / (1000)))/60/60/24)+'')))}\n\t\t</>)\n\t}\n\t\n\tuseEffect(()=>{ \t\n\t\tif(props.info !== null) {\n\t\t\tsetLatestIdx(props.info.length - 1);\n\t\t}\n\t\telse {\n\t\t\tsetLatestIdx(null);\n\t\t}\n\t}, [props.info]);\n\t\n\tuseEffect(()=>{ \t\n\t\tsetToday(new Date());\n\t\tif(latestIdx && props.info[latestIdx])\n\t\t\tsetSpanSec(Math.round(Math.abs((today - new Date(props.info[latestIdx].date)) / (1000))));\n\t\t\n\t\tif(page==='profile') {\n\t\t\tlet temp = rand, next = Math.floor(Math.random()*3);\n\t\t\twhile(next===temp) next = Math.floor(Math.random()*3);\n\t\t\tsetRand(next);\n\t\t}\n\t}, [location]);\n\t\n\treturn (<>{(props.info !== null && props.info[latestIdx]?.data!==undefined) &&(\n\t\n\t<div className={`profile`}>\n\t\t<p>  {props.info[latestIdx].data.name} :)</p>\n\t    {{\t0:<p> <TimeBefore/>  bmi  {bmi2str(props.info[latestIdx].data.weight/(props.info[latestIdx].data.height*props.info[latestIdx].data.height/10000))}!</p>,\n\t\t\t1:<p>  kg ! !!</p>,\n\t\t\t2:<p>{latestIdx>=1 ? `  ${Math.abs(props.info[latestIdx].data.weight - props.info[latestIdx-1].data.weight)}kg  ${props.info[latestIdx].data.weight > props.info[latestIdx-1].data.weight?'':''}!`:`  ${props.info[latestIdx].data.weight}kg !`}</p>}[rand]\n\t\t}\n\t\t\n\t\t\t\t   \n\t\t{/*\n\t\t<p> {props.info[latestIdx].data.height}</p>\n\t\t<p> {props.info[latestIdx].data.weight}</p>\n\t\t<p> {props.info[latestIdx].data.waist}</p>\n\t\t<p> {props.info[latestIdx].data.head}</p>\n\t\t<p> {props.info[latestIdx].data.feet}</p>\n\t\t*/}\n\n\t\t<div className={`addUserInfoButton`}>\n\t\t\t<Button variant=\"outlined\" size=\"large\" color=\"primary\"\tonClick={()=>{history.push(`/${lang}/init`)}}>\n\t\t\t\t  \n\t\t\t</Button>\n\t\t</div>\n\t    <div className={`deleteUserInfoButton`}>\n\t\t\t<Button variant=\"outlined\" size=\"large\" color=\"primary\"\tonClick={()=>{ props.dispatch({type:'clear'});history.replace(`/${lang}/welcome`)}}>\n\t\t\t\t   \n\t\t\t</Button>\n\t\t</div>\t\n\t</div>\n\t)}</>)\n}\nfunction stateToProps(state) {\n\treturn {\n\t\tinfo: state.infoReducer,\n\t\tisPlayerActive: state.playerActiveReducer,\n\t\tplayerReducer : state.playerReducer,\n\t\tlang: state.langReducer,\n\t\tnowPage: state.pageReducer,\n\t\ttheme: state.themeReducer,\n\t\tplaylists: state.playlistsReducer,\n\t}\n}\n\nexport default connect(stateToProps)(Profile);","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux'\nimport { useParams, useHistory, useLocation } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\n\nconst lightTheme = createMuiTheme({\n  palette: {\n\t primary: {\n      main: \"#ff8585\",\n     },\n    type: \"light\"\n  }\n});\nconst darkTheme = createMuiTheme({\n  palette: {\n\t primary: {\n      main: \"#ffaea8\",\n     },\n    type: \"dark\"\n  }\n});\n \nconst columns = [\n  { field: 'date', headerName: '', width: 120 },\n  { field: 'height', headerName: '', width: 90 },\n  { field: 'weight', headerName: '', width: 90 },\n  // {\n  //   field: 'age',\n  //   headerName: 'Age',\n  //   type: 'number',\n  //   width: 90,\n  // },\n  // {\n  //   field: 'fullName',\n  //   headerName: 'Full name',\n  //   description: 'This column has a value getter and is not sortable.',\n  //   sortable: false,\n  //   width: 160,\n  //   valueGetter: (params) =>\n  //     `${params.getValue('firstName') || ''} ${params.getValue('lastName') || ''}`,\n  // },\n];\n\nconst rowssss = [\n  { id: 1, lastName: 'Snow', firstName: 'Jon', age: 35 },\n  { id: 2, lastName: 'Lannister', firstName: 'Cersei', age: 42 },\n  { id: 3, lastName: 'Lannister', firstName: 'Jaime', age: 45 },\n  { id: 4, lastName: 'Stark', firstName: 'Arya', age: 16 },\n  { id: 5, lastName: 'Targaryen', firstName: 'Daenerys', age: null },\n  { id: 6, lastName: 'Melisandre', firstName: null, age: 150 },\n  { id: 7, lastName: 'Clifford', firstName: 'Ferrara', age: 44 },\n  { id: 8, lastName: 'Frances', firstName: 'Rossini', age: 36 },\n  { id: 9, lastName: 'Roxie', firstName: 'Harvey', age: 65 },\n];\n\nfunction Setting(props) {\n\tconst { lang, page } = useParams();\n\tconst history = useHistory();\n\tconst location = useLocation();\n\t\n\tconst [activeArea, setActiveArea] = useState('init');\n\tconst [activatedCardModal, setActivatedCardModal] = useState(null);\n\t\n\tconst [latestIdx, setLatestIdx] = useState(null);\n\tconst [today, setToday] = useState(null);\n\t\n\tconst [spanSec, setSpanSec] = useState(0);\n\tconst [rand, setRand] = useState(Math.floor(Math.random()*3));\n\tconst [rows, setRows] = useState([]);\n\tconst [selectedRows, setSelectedRows] = useState([]);\n\t\n\tvar timerID;\n\t\n\t\n\tuseEffect(()=>{ \t\n\t\tif(props.info !== null) {\n\t\t\tsetLatestIdx(props.info.length - 1);\n\t\t}\n\t\telse {\n\t\t\tsetLatestIdx(null);\n\t\t}\n\t}, [props.info]); \n\t\n\tuseEffect(()=>{ \t\n\t\tif(latestIdx && props.info && props.info[latestIdx])\n\t\t\tsetSpanSec(Math.round(Math.abs((today - new Date(props.info[latestIdx].date)) / (1000))));\n\t\t\n\t\tif(page==='setting') {\n\t\t\tlet temp = [];\n\t\t\tprops.info?.map((e, i)=>{\n\t\t\t\ttemp.push({id: i, date: e.date.slice(2,10).replace(/-/g,'/'), height: e.data.height, weight:e.data.weight})\n\t\t\t});\n\t\t\tsetRows(temp);\n\t\t}\n\t}, [location, props.info]);\n\t\n\treturn (<>{(props.info !== null && props.info[latestIdx]?.data!==undefined) &&(\n\t\n\t<div className={`setting`}> \n\t<ThemeProvider theme={props.theme==='dark'?{...darkTheme}:{...lightTheme}}>\n\t\t<div className='table' style={{ height: 500, width: '100%' }}>\n      \t\t<DataGrid rows={rows} columns={columns} onSelectionChange={(e) => setSelectedRows([...e.rowIds])} hideFooter={true} localeText={{\n               footerRowSelected: (count) => `${count}ddd`\n                  }} checkboxSelection />\n   \t\t</div>\n\t\t<div className={`deleteButton`}>\n\t\t\t<Button variant=\"outlined\" size=\"large\" color=\"primary\"\tonClick={()=>{if(selectedRows.length === latestIdx + 1) {props.dispatch({type:'clear'}); history.replace(`/${lang}/welcome`);} else props.dispatch({type:'delete', payload:selectedRows});}}>\n\t\t\t\t \n\t\t\t</Button>\n\t\t</div>\n    </ThemeProvider>\n\t</div>\n\t)}</>)\n}\nfunction stateToProps(state) {\n\treturn {\n\t\tinfo: state.infoReducer,\n\t\tisPlayerActive: state.playerActiveReducer,\n\t\tplayerReducer : state.playerReducer,\n\t\tlang: state.langReducer,\n\t\tnowPage: state.pageReducer,\n\t\ttheme: state.themeReducer,\n\t\tplaylists: state.playlistsReducer,\n\t}\n}\n\nexport default connect(stateToProps)(Setting);","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux'\n\nimport SongCardList from './SongCardList.js';\nimport PlaylistTab from './PlaylistTab.js';\nimport Main from './Main.js';\nimport Input from './Input.js';\nimport Profile from './Profile.js';\nimport Statistic from './Statistic.js';\nimport Setting from './Setting.js';\n\nimport { BrowserRouter as Switch, useParams, Route, useLocation } from 'react-router-dom';\nimport queryString from 'query-string';\n\nfunction Content(props){\n\tconst { lang, page } = useParams();\n\tconst location = useLocation();\n\tconst { search } = useLocation();\n\tconst { song_id } = queryString.parse(search);\t\n\n\tuseEffect(()=>{ \n\t\tif(page) props.dispatch({type:'changePage', payload:page});\n\t\t\n\t\t\n\t}, [location]);\n\n\t\n\treturn(\n\t\t<div className={\"content \"}>\n\t\t\t<div className={\"page \" + (props.nowPage === 'welcome' ? \"active\" : \"\")} >\n\t\t\t\t<Main></Main>\n\t\t\t</div>\n\t\t\t<div className={\"page \" + (props.nowPage === 'init' ? \"active\" : \"\")} >\n\t\t\t\t<Input></Input>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className={\"page \" + (props.nowPage === 'profile' ? \"active\" : \"\")} >\n\t\t\t\t<Profile></Profile>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className={\"page \" + (props.nowPage === 'statistic' ? \"active\" : \"\")} >\n\t\t\t\t<Statistic></Statistic>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className={\"page \" + (props.nowPage === 'program' ? \"active\" : \"\")} >\n\t\t\t\t<div className={\"search\"} >\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className={\"page \" + (props.nowPage === 'setting' ? \"active\" : \"\")} >\n\t\t\t\t<Setting></Setting>\n\t\t\t</div>\n\t\t\t\n\t\t<Switch>\n\t\t\t<Route path={'/app/:lang/:page'}>\n\t\t\t\t\n\t\t\t</Route>\n\t\t</Switch>\n\t\t</div>\n\t)\n}\n\nfunction stateToProps(state) {\n    return {\n\t\t\t\tisPlayerActive: state.playerActiveReducer,\n        playerReducer : state.playerReducer,\n\t\t\t\tlang: state.langReducer,\n\t\t\t\tnowPage: state.pageReducer,\n\t\t\t\tplaylists: state.playlistsReducer,\n    }\n}\n\nexport default connect(stateToProps)(Content);","import React, { useState } from 'react';\nimport { connect } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport LanguageIcon from '@material-ui/icons/Language';\nimport PersonIcon from '@material-ui/icons/Person';\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\nimport NightsStayIcon from '@material-ui/icons/NightsStay';\nimport SyncIcon from '@material-ui/icons/Sync';\nimport SyncDisabledIcon from '@material-ui/icons/SyncDisabled';\n\nimport { Switch } from '@material-ui/core';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\n\nfunction Popup(props) {\n\tconst { lang, page } = useParams();\n\tconst history = useHistory();\n\t\n\tconst [isPopupActiveded, setPopupActiveded] = useState(false);\n\t\n\tconst iconColor = '#777777';\n\t\n\t// useEffect(()=>{\n\t// \tsetPopupActiveded(false);\n\t// }, [location]);\n\t\n\treturn (\n\t\t<div className={`popup ${props.isPlayerActive&&'inactive'}`}>\n\t\t\t<div className='userImgArea' onClick={()=>{setPopupActiveded(!isPopupActiveded)}}>\n\t\t\t\t{false?\n\t\t\t\t\t<div className='userImg'><img></img></div>\n\t\t\t\t\t:\n\t\t\t\t\t<div className='alignCenter iconArea'><PersonIcon style={{fontSize: 35, color:iconColor}}></PersonIcon></div>\n\t\t\t\t}\n\t\t\t</div>\t\n\t\t\t\n\t\t\t<div className={`detailsArea ${!isPopupActiveded&&'inactive'}`}>\n\t\t\t\t<div className={`alignCenter loginArea`}>login .</div>\n\t\t\t\t<div className='alignCenter langLabel'><LanguageIcon></LanguageIcon></div>\n\t\t\t\t<div className='alignCenter langSetting'>\n\t\t\t\t\t<ToggleButtonGroup size='small' exclusive={true} value={lang} onChange={(event, value)=>{\n\t\t\t\t\t\tif(value) {\n\t\t\t\t\t\t\thistory.replace(`/${value}/${page}`);\n\t\t\t\t\t\t\t//props.dispatch({type:'langChanged'});\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<ToggleButton value='kr'></ToggleButton>\n\t\t\t\t\t\t<ToggleButton value='en'>&nbsp;ENG&nbsp;</ToggleButton>\n\t\t\t\t\t\t<ToggleButton value='jp'></ToggleButton>\n\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className='alignCenter themeLabel'>{props.theme==='light'?<WbSunnyIcon></WbSunnyIcon>:<NightsStayIcon></NightsStayIcon>}</div>\n\t\t\t\t<div className='alignCenter themeSetting'>\n\t\t\t\t\t<Switch color='primary' checked={props.theme==='light'} onChange={(event)=>{\n\t\t\t\t\t\tevent.target.checked?props.dispatch({type:'lightTheme'}):props.dispatch({type:'darkTheme'});\t\t\n\t\t\t\t\t}}></Switch>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className='alignCenter animLabel'>{props.anim==='off'?<SyncDisabledIcon></SyncDisabledIcon>:<SyncIcon></SyncIcon>}</div>\n\t\t\t\t<div className='alignCenter animSetting'>\n\t\t\t\t\t<Switch color='primary' checked={props.anim==='on'} onChange={(event)=>{\n\t\t\t\t\t\tevent.target.checked?props.dispatch({type:'animOn'}):props.dispatch({type:'animOff'});\t\t\n\t\t\t\t\t}}></Switch>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\t\n\t\t\t\n\t\t\t<div className={`bg ${!isPopupActiveded&&'inactive'}`} onClick={()=>{setPopupActiveded(false)}}></div>\t\n\t\t</div>\n\t)\n}\n\nfunction stateToProps(state) {\n    return {\n\t\t\t\tisPlayerActive: state.playerActiveReducer,\n        playerReducer : state.playerReducer,\n\t\t\t\tlang: state.langReducer,\n\t\t\t\tnowPage: state.pageReducer,\n\t\t\t\ttheme: state.themeReducer,\n\t\t\t\tanim: state.animReducer\n    }\n}\n\nexport default connect(stateToProps)(Popup);","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter as Switch, Route, Redirect } from 'react-router-dom';\n\nimport Nav from './Nav.js';\nimport Content from './Content.js';\nimport Popup from './Popup.js';\n\nfunction App(props) {\n\tuseEffect(()=>{\n\tif(props.theme==='light') {\n\t\tdocument.documentElement.style.setProperty(\"--text\", '#444444');\n\t\tdocument.documentElement.style.setProperty(\"--text2\", '#888888');\n\t\tdocument.documentElement.style.setProperty(\"--pageBg\", '#fbfbfb');\n\t\tdocument.documentElement.style.setProperty(\"--tabBg\", '#ffffff');\n\t\tdocument.documentElement.style.setProperty(\"--lightShadow\", '#ffffff');\n\t\tdocument.documentElement.style.setProperty(\"--shadow\", '#8f8f8f');\n\t\tdocument.documentElement.style.setProperty(\"--darkShadow\", '#000000');\t\n\t\t\n\t\tdocument.documentElement.style.setProperty(\"--im\", '#fffcfc');\t\n\t\tdocument.documentElement.style.setProperty(\"--cg\", '#f5f8ff');\t\n\t\tdocument.documentElement.style.setProperty(\"--ml\", '#fffff9');\t\n\t\tdocument.documentElement.style.setProperty(\"--sm\", '#f7fffa');\n\t\tdocument.documentElement.style.setProperty(\"--sc\", '#f7ffff');\t\n\t}\n\telse {\n\t\tdocument.documentElement.style.setProperty(\"--text\", '#dddddd');\n\t\tdocument.documentElement.style.setProperty(\"--text2\", '#bbbbbb');\n\t\tdocument.documentElement.style.setProperty(\"--pageBg\", '#242424');\n\t\tdocument.documentElement.style.setProperty(\"--tabBg\", '#1a1a1a');\n\t\tdocument.documentElement.style.setProperty(\"--lightShadow\", '#0a0a0a');\n\t\tdocument.documentElement.style.setProperty(\"--shadow\", '#000000');\n\t\tdocument.documentElement.style.setProperty(\"--darkShadow\", '#777777');\t\n\t\t\n\t\tdocument.documentElement.style.setProperty(\"--im\", '#362e2e');\t\n\t\tdocument.documentElement.style.setProperty(\"--cg\", '#2e3036');\t\n\t\tdocument.documentElement.style.setProperty(\"--ml\", '#36342e');\t\n\t\tdocument.documentElement.style.setProperty(\"--sm\", '#2e3636');\n\t\tdocument.documentElement.style.setProperty(\"--sc\", '#2e3636');\t\n\t}\n},[props.theme])\n\n\tuseEffect(()=>{\n\t\tif(localStorage.getItem('userTheme')==='dark') props.dispatch({type:'darkTheme'});\n\t\telse if(localStorage.getItem('userTheme')==='light') props.dispatch({type:'lightTheme'});\n\t\telse if(window.matchMedia&&window.matchMedia('(prefers-color-scheme:Dark)').matches)\n\t\t\tprops.dispatch({type:'darkTheme'});\n\n\t\tif(localStorage.getItem('anim')==='off') props.dispatch({type:'animOff'});\n\t\telse props.dispatch({type:'animOn'});\n\t},[])\n\t\n\treturn (\n\t\t<div className={`App ${props.anim}`}> \n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/:lang/:page\">\n\t\t\t\t\t<Popup></Popup>\n\t\t\t\t\t<Content></Content>\n\t\t\t\t\t<Nav></Nav>\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/:lang\" render={props => (<Redirect to={`/${props.match.params.lang}/songs`} />)}/>\n\t\t\t\t<Route exact path=\"/\" render={props => (<Redirect to={'/kr/welcome'}/>)}/>\n\t\t\t</Switch>\n\t\t</div>\n\t\t);\n}\n\nfunction stateToProps(state) {\n    return {\n\t\t\t\tinfo: state.infoReducer,\n\t\t\t\tisPlayerActive: state.playerActiveReducer,\n        playerReducer : state.playerReducer,\n\t\t\t\tlang: state.langReducer,\n\t\t\t\tnowPage: state.pageReducer,\n\t\t\t\ttheme: state.themeReducer,\n\t\t\t\tanim: state.animReducer\n    }\n}\n\nexport default connect(stateToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n//import './style.scss';\nimport './style2.scss';\nimport App from './App';\n\nimport { Provider } from  'react-redux';\nimport { createStore, combineReducers } from 'redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nlet infoDefault = window.localStorage.getItem(\"userInfo\")||[];\nfunction infoReducer(state = infoDefault, action) {\n    if(action.type === 'init') {\n\t\tvar today = new Date(); //new Date().toJSON().slice(0,10).replace(/-/g,'/');\n\t\tif(localStorage.getItem('userInfo') === null) {\n\t\t\tlocalStorage.setItem('userInfo', JSON.stringify([{date: today, data: action.payload}]));   \n\t\t}\n\t\telse {\n\t\t\tlet temp = JSON.parse(localStorage.getItem('userInfo'));\n\t\t\ttemp.push({date: today, data: action.payload})\n\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(temp));   \n\t\t}\n\t\treturn JSON.parse(localStorage.getItem('userInfo'));\n    }\n\telse if(action.type === 'load') {\n\t\tlet temp = localStorage.getItem('userInfo');\n\t\tif(temp !== null) return JSON.parse(temp);\n\t\treturn null;\n    }\n\telse if(action.type === 'clear') {\n\t\tlocalStorage.removeItem('userInfo');  \n\t\treturn null;\n    }\n\telse if(action.type === 'delete') {\n\t\tlet temp = JSON.parse(localStorage.getItem('userInfo'));\n\t\taction.payload.map(e=>temp.splice(e, 1));\n\t\t// if(temp.length===0) {\n\t\t// \tlocalStorage.removeItem('userInfo');  \n\t\t// \treturn null;\n\t\t// }\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(temp));   \n\t\treturn JSON.parse(localStorage.getItem('userInfo'));\n    }\n\t\n    return state;\n}\n\nfunction playerActiveReducer(state = false, action) {\n    if(action.type === 'playerActive') {\n\t\t\treturn true;\n    } \n\t\telse if(action.type === 'playerInactive') {\n\t\t\treturn false;\n    } \n    return state;\n}\n\nlet playerDefault = {reload: false, lang:false, song_id: null, playerActive:false, playlistReload:false, playlistNum:null, pass:false};\nfunction playerReducer(state = playerDefault, action) { \n\tif(action.type === 'playerReload') {\n\t\tlet cp = JSON.parse(JSON.stringify(state));\n\t\tcp.reload=!cp.reload;\n\t\tcp.song_id = action.payload.song_id;\t\n\t\treturn cp;\n\t}\n\tif(action.type === 'playlistReload') {\n\t\tlet cp = JSON.parse(JSON.stringify(state));\n\t\tcp.playlistReload=!cp.playlistReload;\n\t\tcp.playlistNum = action.payload.playlistNum;\n\t\treturn cp;\n\t}\n\tif(action.type === 'langChanged') {\n\t\tlet cp = JSON.parse(JSON.stringify(state));\n\t\tcp.lang=!cp.lang;\n\t\treturn cp;\n\t}\n\treturn state;\n}\n\nlet playlistsDefault = JSON.parse(window.localStorage.getItem(\"playlists\"))||[];\nfunction playlistsReducer(state = playlistsDefault, action) { \n\tif(action.type === 'saveNew') {\n\t\tlet cp = JSON.parse(JSON.stringify(state));\n\t\tcp = [...cp, action.payload];\n\t\treturn cp;\n\t}\n\tif(action.type === 'replacePlaylist') {\n\t\tlet cp = JSON.parse(JSON.stringify(state));\n\t\tcp.splice(cp.findIndex(e=>e.name===action.payload.name), 1, action.payload);\n\t\treturn cp;\n\t}\n\tif(action.type === 'addToPlaylist') {\n\t\tlet cp = JSON.parse(JSON.stringify(state));\n\t\tlet pl = cp.find(e=>e.name===action.payload.name).data;\n\t\taction.payload.data.forEach((e)=>{if(pl.filter(ele=>ele.song_id===e.song_id).length===0) pl.push(e)});\n\t\treturn cp;\n\t}\n\tif(action.type === 'deletePlaylist') {\n\t\tlet cp = JSON.parse(JSON.stringify(state));\n\t\tcp = [...cp.filter((ele)=>ele.name!==action.payload)];\n\t\treturn cp;\n\t}\n\treturn state;\n}\n\nfunction langReducer(state = 'en', action) {\n\tif(action.type === 'setLang') return action.payload;\n  return state;\n}\n\nfunction pageReducer(state = 'profile', action) {\n    if(action.type === 'changePage') {\n      return action.payload;\n    } \n    return state;\n}\n\nfunction themeReducer(state = 'light', action) {\n    if(action.type === 'darkTheme') {\n\t\t\tlocalStorage.setItem('userTheme', 'dark');\n\t\t\treturn 'dark';\n    } \n\t\tif(action.type === 'lightTheme') {\n\t\t\tlocalStorage.setItem('userTheme', 'light');\n      return 'light';\n    } \n    return state;\n}\n\nfunction animReducer(state = 'on', action) {\n    if(action.type === 'animOff') {\n\t\t\tlocalStorage.setItem('anim', 'off');\n\t\t\treturn 'off';\n    } \n\t\tif(action.type === 'animOn') {\n\t\t\tlocalStorage.setItem('anim', 'on');\n\t\t\treturn 'on';\n    } \n\t\treturn state;\n}\n\nlet store = createStore(combineReducers({infoReducer, playerActiveReducer, playerReducer, playlistsReducer, langReducer, pageReducer, themeReducer, animReducer}));\n\nReactDOM.render(\n  <React.StrictMode>\n\t<BrowserRouter>\n\t\t <Provider store={store}>\n\t  <App />\n\t\t\t  </Provider>\n\t</BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","import React from 'react';\nimport { connect } from 'react-redux'\n\nfunction Tag(props) {\n\treturn (\n\t\t<div className=\"tag\" style={{backgroundImage: `linear-gradient(110deg, `+props.color1+`, 30%,`+props.color2+`)`}}>\n\t\t\t<div className='image alignCenter'>\n\t\t\t\t<img src={\"/api/img/\"+props.classify+\"/\"+props.id}></img>\n\t\t\t</div>\n\t\t\t<div className='name'>\n\t\t\t\t{props.name}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction stateToProps(state) {\n    return {\n\t\t\t\tisPlayerActive: state.playerActiveReducer,\n        playerReducer : state.playerReducer,\n\t\t\t\tlang: state.langReducer,\n\t\t\t\tnowPage: state.pageReducer\n    }\n}\n\nexport default connect(stateToProps)(Tag);"],"sourceRoot":""}